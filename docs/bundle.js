!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){const n=BigInt(e.length);let r="",i=function(t){const e=t.byteLength,n=new DataView(t,0);let r=0n;for(let t=0;t<e;t+=1)r+=BigInt(n.getUint8(t))*256n**BigInt(t);return r}(t);for(;i>0n;){const t=i%n;i/=n,r+=e[BigInt.asUintN(64,t)]}return r}function i(t){return(new TextEncoder).encode(t).buffer}n.r(e);class o{constructor(t){this.hkdfPurpose=i(t),this._description=`HKDF(PBKDF2, HMAC512) [purpose: ${t}]`}get version(){return 1}get description(){return this._description}async generatePassword(t,e){const n=await u(t,e),r=await crypto.subtle.importKey("raw",n,{name:"HMAC",hash:{name:"SHA-512"}},!1,["sign"]);return await crypto.subtle.sign("HMAC",r,this.hkdfPurpose)}}const a=new Uint8Array([242,207,239,142,19,64,70,73,146,42,222,92,188,136,56,168]).buffer;class s{get version(){return 1}get description(){return"PBKDF2 + AES-GCM"}async encrypt(t,e){const n=new ArrayBuffer(28+t.byteLength),r=new DataView(n,0,12);crypto.getRandomValues(new Uint8Array(n,0,12));const i={name:"AES-GCM",iv:r},o=await crypto.subtle.importKey("raw",await u(e,a),{name:"AES-GCM",length:256},!1,["encrypt"]),s=await crypto.subtle.encrypt(i,o,t);return new Uint8Array(n).set(new Uint8Array(s),12),n}async decrypt(t,e){const n=new DataView(t,0,12),r=new DataView(t,12),i={name:"AES-GCM",iv:n},o=await u(e,a),s=await crypto.subtle.importKey("raw",o,{name:"AES-GCM",length:256},!1,["decrypt"]);return await crypto.subtle.decrypt(i,s,r)}}const l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";new o("Password"),new s;async function u(t,e){const n=await crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveKey"]),r={name:"PBKDF2",hash:"SHA-512",iterations:1e5,salt:e},i=await crypto.subtle.deriveKey(r,n,{name:"AES-CBC",length:256},!0,["encrypt"]);return await crypto.subtle.exportKey("raw",i)}function c(t=64,e=l){return r(function(t=64){const e=new Uint8Array(t);return crypto.getRandomValues(e).buffer}(t),e)}class d{constructor(t){this.element=t}setText(t,e){this.element.innerHTML=t,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.element.innerHTML="",e)}}const p=new o("Password"),y=new s;function v(t){const e=document.getElementById(t);if(null===t)throw new Error(`DOM element '${t}' not found.`);return e}const f="Stores the string in memory and removes it from the UI component. Prevents a physical intruder from copy/pasting the value.",b="Removes the string form memory and re-enables the UI component.",h=v("txtPrivatePart"),g=v("txtPrivatePartConfirmation"),w=v("btnProtect"),m=v("spnProtectedConfirmation"),P=v("txtPath"),L=v("txtPublicPart"),S=v("btnGeneratePublicPart"),T=v("btnClearPublicPart"),C=v("btnCopyPublicPart"),M=v("spnCopyPublicPartFeedback"),E=v("spnPrivatePartSize"),k=v("spnPrivatePartSizeConfirmation"),x=v("numOutputSizeRange"),A=v("numOutputSizeNum"),H=v("txtAlphabet"),O=v("spnAlphabetSize"),D=v("btnResetAlphabet"),j=v("txtResultPassword"),I=v("spnResultPasswordLength"),K=v("btnCopyResultPassword"),F=v("spnCopyResultPasswordFeedback"),B=v("txtParameters"),U=v("txtCustomKeys"),R=v("btnTabPasswords"),V=v("btnTabCiphers"),_=v("divTabPasswords"),G=v("divTabCiphers"),z=v("txtCipherSource"),N=v("txtCipherTarget"),J=v("btnEncrypt"),$=v("btnDecrypt"),q=64,Q="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~",W="#D0FFD0",X="#FFD0D0",Y=["alphabet","length","public","datetime"];let Z,tt;function et(){tt=L.value.length>0?(new Date).toISOString():void 0}function nt(){return void 0!==Z?Z:h.value}function rt(){0!==h.value.length&&(Z=h.value,m.innerHTML="Protected",h.value="",g.value="",E.innerHTML="0",k.innerHTML="0",h.disabled=!0,g.disabled=!0,w.innerHTML="Clear and unlock",w.title=b,wt())}function it(){void 0===Z?rt():(Z=void 0,m.innerHTML="",h.disabled=!1,g.disabled=!1,w.innerHTML="Protect and lock",w.title=f,w.disabled=!0)}x.max=q.toString(),x.value=q.toString(),R.addEventListener("click",()=>{R.style.setProperty("font-weight","bold"),R.style.removeProperty("color"),V.style.removeProperty("font-weight"),V.style.setProperty("color","#C0C0C0"),_.style.removeProperty("display"),G.style.setProperty("display","none")}),V.addEventListener("click",()=>{R.style.removeProperty("font-weight"),R.style.setProperty("color","#C0C0C0"),V.style.setProperty("font-weight","bold"),V.style.removeProperty("color"),_.style.setProperty("display","none"),G.style.removeProperty("display")}),R.style.setProperty("font-weight","bold"),V.style.setProperty("color","#C0C0C0"),J.addEventListener("click",async()=>{if(0===z.value.length)return;const t=nt();if(0===t.length)return;const e=i(z.value),n=i(t),r=await y.encrypt(e,n);N.value=function(t){return Array.prototype.map.call(new Uint8Array(t),t=>("00"+t.toString(16)).slice(-2)).join("")}(r)}),$.addEventListener("click",async()=>{if(0===z.value.length)return;const t=nt();if(0===t.length)return;const e=function(t){t.length%2!=0&&(t="0"+t);const e=new Uint8Array(t.length/2);for(let n=0;n<e.byteLength;n+=1)e[n]=parseInt(t.substr(2*n,2),16);return e.buffer}(z.value),n=i(t),r=await y.decrypt(e,n);N.value=function(t){return(new TextDecoder).decode(t)}(r)}),T.addEventListener("click",()=>{L.value.length>0&&"y"!==prompt("Are you sure you want to clear the public part ?\nType 'y' to accept","")||(L.value="",et(),ct())}),S.addEventListener("click",()=>{if(L.value.length>0&&"y"!==prompt("Are you sure you want to generate a new public part ?\nType 'y' to accept",""))return;const t=c();L.value=t,et(),bt()}),w.addEventListener("click",()=>{it()});const ot=new d(F),at=new d(M);function st(t,e,n){e.addEventListener("click",async()=>{await async function(t){try{return await navigator.clipboard.writeText(t),!0}catch(t){return console.error(t.stack||t),!1}}(t.value)?n.setText("Copied",3e3):n.setText('<span style="color: red">Failed to copy</span>',3e3)})}function lt(){I.innerHTML=j.value.length.toString().padStart(2," ")}function ut(t){const e=t.split("");e.sort();for(let t=1;t<e.length;t+=1)if(e[t-1]===e[t])return!1;return!0}function ct(){if(!1===ft())return void vt();const t=function t(e,n){const r=e.indexOf("/"),i={},o=r>=0?e.substr(0,r):e,a=r>=0?e.substr(r+1):void 0;if(void 0===n){const t={};t[o]=i,n={head:t,tailParent:t,tail:i}}else n.tail[o]=i,n.tailParent=n.tail,n.tail=i;return a?t(a,n):n}(P.value),e=t.tail;e.public=L.value,e.datetime=tt;const n=parseInt(A.value,10);n!==q&&(e.length=n);const r=H.value;r!==Q&&(e.alphabet=r);const i=function(){if(""===U.value)return{};try{const t=JSON.parse(U.value);return null===t||"Object"!==t.constructor.name?null:t}catch{return null}}();null!==i?U.style.removeProperty("background"):U.style.setProperty("background",X);const o=function(t,e){const n={};if(null!==t)for(const[e,r]of Object.entries(t))!1===Y.includes(e)&&(n[e]=r);if(null!==e)for(const[t,r]of Object.entries(e))n[t]=r;return n}(i,e);0===Object.keys(o).length?t.tailParent[Object.keys(t.tailParent)[0]]=null:t.tailParent[Object.keys(t.tailParent)[0]]=o,B.value=JSON.stringify(t.head,void 0,4)}function dt(){A.value=x.value}function pt(){O.innerHTML=H.value.length.toString(),H.value.length.toString().length<2&&(O.innerHTML=O.innerHTML.padStart(2," "))}function yt(t){t?H.style.removeProperty("background"):H.style.setProperty("background",X)}function vt(){j.value="",B.value="",lt()}function ft(){const t=H.value;return!1!==ut(t)&&!(nt().length<=0||L.value.length<8||t.length<2)}async function bt(){if(ct(),!1===ft())return void vt();const t=nt(),e=L.value,n=i(t),o=i(e),a=r(await p.generatePassword(n,o),H.value);var s,l;j.value=(s=a,l=parseInt(x.value,10),s.length<=l?s:s.substr(0,l)),lt()}async function ht(){H.value=Q,pt();const t=ut(H.value);yt(t),t&&await bt()}!function(t,e){const n=v(e);n.addEventListener("click",()=>{"password"===t.type?(t.type="input",n.innerHTML="Hide"):(t.type="password",n.innerHTML="View")})}(j,"btnViewResultPassword"),st(L,C,at),st(j,K,ot),x.addEventListener("input",()=>{dt(),bt()}),A.addEventListener("input",()=>{!function(){const t=parseInt(x.min,10),e=parseInt(A.value,10),n=parseInt(x.max,10);x.value=Math.max(t,Math.min(e,n)).toString()}(),dt(),bt()}),H.addEventListener("input",()=>{const t=ut(H.value);yt(t),!1!==t&&(pt(),bt())}),D.addEventListener("click",()=>{ht(),pt(),bt()});const gt=new class{constructor(t,e){this.action=t,this.delay=e}reset(t){void 0!==this.timeout&&clearTimeout(this.timeout);const e=void 0!==t?t:this.delay;this.timeout=setTimeout(()=>{this.action(),this.timeout=void 0},e)}}(rt,6e4);function wt(){g.value===h.value?g.style.setProperty("background",W):g.style.setProperty("background",X)}h.addEventListener("input",()=>{w.disabled=0===h.value.length,E.innerHTML=h.value.length.toString(),wt(),bt(),gt.reset()}),g.addEventListener("input",()=>{k.innerHTML=g.value.length.toString(),wt()}),P.addEventListener("input",()=>{ct()}),L.addEventListener("input",()=>{et(),ct(),bt()}),U.addEventListener("input",()=>{ct()}),dt(),ht(),wt(),w.title=f}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FycmF5VXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ1V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9wYXNzd29yZEdlbmVyYXRvcnMvdjEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NpcGhlcnMvdjEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NyeXB0by50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVmlzdWFsRmVlZGJhY2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpLnRzIiwid2VicGFjazovLy8uL3NyYy9UaW1lZEFjdGlvbi50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInRvQ3VzdG9tQmFzZSIsImJ5dGVzIiwiYWxwaGFiZXQiLCJhbHBoYWJldExlbmd0aCIsIkJpZ0ludCIsImxlbmd0aCIsInJlc3VsdCIsIm51bWJlciIsImFycmF5QnVmZmVyIiwiYnl0ZUxlbmd0aCIsImFycmF5VmlldyIsIkRhdGFWaWV3IiwiZ2V0VWludDgiLCJhcnJheUJ1ZmZlclRvVW5zaWduZWRCaWdJbnQiLCJyZW1haW5kZXIiLCJhc1VpbnROIiwic3RyaW5nVG9BcnJheSIsInN0ciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiYnVmZmVyIiwiaGtkZlB1cnBvc2UiLCJ0aGlzIiwiX2Rlc2NyaXB0aW9uIiwicHJpdmF0ZVBhcnQiLCJwdWJsaWNQYXJ0IiwiZGVyaXZlZEtleSIsImdldERlcml2ZWRCeXRlcyIsImhrZGZLZXkiLCJjcnlwdG8iLCJzdWJ0bGUiLCJpbXBvcnRLZXkiLCJoYXNoIiwic2lnbiIsImVuY3J5cHRpb25LZXlEZXJpdmF0aW9uU2FsdCIsIlVpbnQ4QXJyYXkiLCJpbnB1dCIsInBhc3N3b3JkIiwib3V0cHV0IiwiQXJyYXlCdWZmZXIiLCJub25jZSIsImdldFJhbmRvbVZhbHVlcyIsImFlc0djbVBhcmFtcyIsIml2IiwicGFzc3dvcmRLZXkiLCJlbmNyeXB0Iiwic2V0IiwicGF5bG9hZCIsImRlY3J5cHQiLCJCQVNFNjJfQUxQSEFCRVQiLCJhc3luYyIsInNhbHQiLCJiYXNlS2V5IiwiYWxnb3JpdGhtIiwiaXRlcmF0aW9ucyIsImRlcml2ZUtleSIsImV4cG9ydEtleSIsImdlbmVyYXRlUmFuZG9tU3RyaW5nIiwiYnl0ZUNvdW50IiwiYXJyYXkiLCJnZW5lcmF0ZVJhbmRvbUJ5dGVzIiwiVmlzdWFsRmVlZGJhY2siLCJlbGVtZW50IiwidGV4dCIsImR1cmF0aW9uIiwiaW5uZXJIVE1MIiwidGltZW91dCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJwYXNzd29yZEdlbmVyYXRvciIsImNpcGhlciIsImdldEVsZW1lbnRCeUlkIiwiZWxlbWVudE5hbWUiLCJkb2N1bWVudCIsIkVycm9yIiwiYnRuUHJvdGVjdFRpdGxlRm9yUHJvdGVjdCIsImJ0blByb3RlY3RUaXRsZUZvckNsZWFyIiwidHh0UHJpdmF0ZVBhcnQiLCJ0eHRQcml2YXRlUGFydENvbmZpcm1hdGlvbiIsImJ0blByb3RlY3QiLCJzcG5Qcm90ZWN0ZWRDb25maXJtYXRpb24iLCJ0eHRQYXRoIiwidHh0UHVibGljUGFydCIsImJ0bkdlbmVyYXRlUHVibGljUGFydCIsImJ0bkNsZWFyUHVibGljUGFydCIsImJ0bkNvcHlQdWJsaWNQYXJ0Iiwic3BuQ29weVB1YmxpY1BhcnRGZWVkYmFjayIsInNwblByaXZhdGVQYXJ0U2l6ZSIsInNwblByaXZhdGVQYXJ0U2l6ZUNvbmZpcm1hdGlvbiIsIm51bU91dHB1dFNpemVSYW5nZSIsIm51bU91dHB1dFNpemVOdW0iLCJ0eHRBbHBoYWJldCIsInNwbkFscGhhYmV0U2l6ZSIsImJ0blJlc2V0QWxwaGFiZXQiLCJ0eHRSZXN1bHRQYXNzd29yZCIsInNwblJlc3VsdFBhc3N3b3JkTGVuZ3RoIiwiYnRuQ29weVJlc3VsdFBhc3N3b3JkIiwic3BuQ29weVJlc3VsdFBhc3N3b3JkRmVlZGJhY2siLCJ0eHRQYXJhbWV0ZXJzIiwidHh0Q3VzdG9tS2V5cyIsImJ0blRhYlBhc3N3b3JkcyIsImJ0blRhYkNpcGhlcnMiLCJkaXZUYWJQYXNzd29yZHMiLCJkaXZUYWJDaXBoZXJzIiwidHh0Q2lwaGVyU291cmNlIiwidHh0Q2lwaGVyVGFyZ2V0IiwiYnRuRW5jcnlwdCIsImJ0bkRlY3J5cHQiLCJERUZBVUxUX0xFTkdUSCIsIkRFRkFVTFRfQUxQSEFCRVQiLCJTVUNDRVNTX0NPTE9SIiwiRVJST1JfQ09MT1IiLCJSRVNFUlZFRF9LRVlTIiwicGFzc3dvcmRQdWJsaWNQYXJ0TGFzdENoYW5nZSIsInVwZGF0ZVBhc3N3b3JkUHVibGljUGFydExhc3RVcGRhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1bmRlZmluZWQiLCJnZXRQcml2YXRlUGFydCIsInByb3RlY3RBbmRMb2NrUHJpdmF0ZVBhcnQiLCJkaXNhYmxlZCIsInRpdGxlIiwidXBkYXRlUHJpdmF0ZVBhcnRzTWF0Y2hpbmciLCJ0b2dnbGVQcml2YXRlUGFydFByb3RlY3Rpb24iLCJtYXgiLCJ0b1N0cmluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsInNldFByb3BlcnR5IiwicmVtb3ZlUHJvcGVydHkiLCJlbmNyeXB0ZWQiLCJBcnJheSIsIm1hcCIsIngiLCJzbGljZSIsImpvaW4iLCJwYXJzZUludCIsInN1YnN0ciIsImRlY3J5cHRlZCIsIlRleHREZWNvZGVyIiwiZGVjb2RlIiwicHJvbXB0IiwidXBkYXRlUGFzc3dvcmRHZW5lcmF0aW9uUGFyYW1ldGVycyIsInJhbmRvbVN0cmluZyIsInJ1biIsImNvcHlSZXN1bHRQYXNzd29yZFRvQ2xpcGJvYXJkRmVlZGJhY2tPYmplY3QiLCJjb3B5UHVibGljUGFydFRvQ2xpcGJvYXJkRmVlZGJhY2tPYmplY3QiLCJzZXR1cENvcHlCdXR0b24iLCJ0eHQiLCJidXR0b24iLCJmZWVkYmFjayIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImVycm9yIiwiY29uc29sZSIsInN0YWNrIiwid3JpdGVUb0NsaXBib2FyZCIsInNldFRleHQiLCJ1cGRhdGVSZXN1bHRQYXNzd29yZExlbmd0aCIsInBhZFN0YXJ0IiwiaXNBbHBoYWJldFZhbGlkIiwic29ydGVkQWxwaGFiZXQiLCJzcGxpdCIsInNvcnQiLCJjYW5SdW4iLCJjbGVhck91dHB1dHMiLCJjaGFpbkluZm8iLCJwYXRoVG9PYmplY3RDaGFpbiIsInBhdGgiLCJzZXBhcmF0b3JJbmRleCIsImluZGV4T2YiLCJ0YWlsIiwiZmlyc3RQYXRoIiwicmVtYWluaW5nUGF0aCIsIm5vZGUiLCJoZWFkIiwidGFpbFBhcmVudCIsImxlYWYiLCJwdWJsaWMiLCJkYXRldGltZSIsIm51bWVyaWNWYWx1ZSIsImN1c3RvbUtleXMiLCJvYmoiLCJKU09OIiwicGFyc2UiLCJjb25zdHJ1Y3RvciIsInBhcnNlQ3VzdG9tS2V5cyIsInJlc3VsdFBhcmFtZXRlcnMiLCJzb3VyY2UiLCJ0YXJnZXQiLCJlbnRyaWVzIiwiaW5jbHVkZXMiLCJzaGFsbG93TWVyZ2UiLCJrZXlzIiwic3RyaW5naWZ5IiwidXBkYXRlT3V0cHV0U2l6ZVJhbmdlVG9OdW0iLCJ1cGRhdGVBbHBoYWJldFNpemUiLCJ1cGRhdGVBbHBoYWJldFZhbGlkaXR5RGlzcGxheSIsInByaXZhdGVQYXJ0U3RyaW5nIiwicHVibGljUGFydFN0cmluZyIsInByaXZhdGVQcml2YXRlQnl0ZXMiLCJwdWJsaWNQYXJ0Qnl0ZXMiLCJrZXlTdHJpbmciLCJnZW5lcmF0ZVBhc3N3b3JkIiwicmVzZXRBbHBoYWJldCIsImlzQWxwaGFiZXRWYWxpZFJlc3VsdCIsImJ1dHRvbk5hbWUiLCJidG4iLCJ0eXBlIiwic2V0dXBWaWV3QnV0dG9uIiwibWluIiwidmFsIiwiTWF0aCIsInVwZGF0ZU91dHB1dFNpemVOdW1Ub1JhbmdlIiwicHJvdGVjdFByaXZhdGVQYXJ0QWN0aW9uIiwiYWN0aW9uIiwiZGVsYXkiLCJvdmVycmlkZURlbGF5IiwicmVzZXQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4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QWJuRWxDLEVBQWVpRCxpQkFBaUIsUUFBUyxLQUNyQy9DLEVBQVd5QyxTQUEyQyxJQUFoQzNDLEVBQWU1RixNQUFNb0IsT0FFM0NrRixFQUFtQnRCLFVBQVlZLEVBQWU1RixNQUFNb0IsT0FBT3dILFdBQzNESCxLQUNBc0IsS0FDQXVFLEdBQXlCSSxVQVc3QjdJLEVBQTJCZ0QsaUJBQWlCLFFBQVMsS0FDakR0QyxFQUErQnZCLFVBQVlhLEVBQTJCN0YsTUFBTW9CLE9BQU93SCxXQUNuRkgsT0FHSnpDLEVBQVE2QyxpQkFBaUIsUUFBUyxLQUM5QmdCLE9BR0o1RCxFQUFjNEMsaUJBQWlCLFFBQVMsS0FDcENaLEtBQ0E0QixLQUNBRSxPQUdKN0MsRUFBYzJCLGlCQUFpQixRQUFTLEtBQ3BDZ0IsT0FHSnNELEtBQ0FTLEtBQ0FuRixLQUNBM0MsRUFBVzBDLE1BQVE5QyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgZnVuY3Rpb24gYXJyYXlUb1N0cmluZyhhcnJheTogQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoLyondXRmLTgnKi8pO1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZShhcnJheSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShzb3VyY2U6IFVpbnQ4QXJyYXksIHNvdXJjZUluZGV4OiBudW1iZXIsIHRhcmdldDogVWludDhBcnJheSwgdGFyZ2V0SW5kZXg6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRJbmRleF0gPSBzb3VyY2VbaSArIHNvdXJjZUluZGV4XTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvVW5zaWduZWRCaWdJbnQoYXJyYXlCdWZmZXI6IEFycmF5QnVmZmVyKTogYmlnaW50IHtcbiAgICBjb25zdCBsZW5ndGg6IG51bWJlciA9IGFycmF5QnVmZmVyLmJ5dGVMZW5ndGg7XG4gICAgY29uc3QgYXJyYXlWaWV3OiBEYXRhVmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgMCk7XG5cbiAgICBsZXQgcmVzdWx0OiBiaWdpbnQgPSAwbjtcblxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICByZXN1bHQgKz0gQmlnSW50KGFycmF5Vmlldy5nZXRVaW50OChpKSkgKiAoMjU2biAqKiBCaWdJbnQoaSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0N1c3RvbUJhc2UoYnl0ZXM6IEFycmF5QnVmZmVyLCBhbHBoYWJldDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBhbHBoYWJldExlbmd0aDogYmlnaW50ID0gQmlnSW50KGFscGhhYmV0Lmxlbmd0aCk7XG5cbiAgICBsZXQgcmVzdWx0OiBzdHJpbmcgPSAnJztcbiAgICBsZXQgbnVtYmVyOiBiaWdpbnQgPSBhcnJheUJ1ZmZlclRvVW5zaWduZWRCaWdJbnQoYnl0ZXMpO1xuXG4gICAgd2hpbGUgKG51bWJlciA+IDBuKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVtYWluZGVyOiBiaWdpbnQgPSBudW1iZXIgJSBhbHBoYWJldExlbmd0aDtcbiAgICAgICAgbnVtYmVyIC89IGFscGhhYmV0TGVuZ3RoO1xuXG4gICAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSA8bnVtYmVyPjxhbnk+QmlnSW50LmFzVWludE4oNjQsIHJlbWFpbmRlcik7XG5cbiAgICAgICAgcmVzdWx0ICs9IGFscGhhYmV0W2luZGV4XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9CYXNlMTYoYnVmZmVyOiBBcnJheUJ1ZmZlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChcbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSxcbiAgICAgICAgeCA9PiAoJzAwJyArIHgudG9TdHJpbmcoMTYpKS5zbGljZSgtMilcbiAgICApLmpvaW4oJycpO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlKGlucHV0OiBzdHJpbmcsIGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoaW5wdXQubGVuZ3RoIDw9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cigwLCBsZW5ndGgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHI6IHN0cmluZyk6IEFycmF5QnVmZmVyIHtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKC8qJ3V0Zi04JyovKTtcbiAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGUoc3RyKS5idWZmZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQmFzZTE2KHN0cjogc3RyaW5nKTogQXJyYXlCdWZmZXIge1xuICAgIGlmIChzdHIubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICBzdHIgPSAnMCcgKyBzdHI7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0OiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc3RyLmxlbmd0aCAvIDIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQuYnl0ZUxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHJlc3VsdFtpXSA9IHBhcnNlSW50KHN0ci5zdWJzdHIoaSAqIDIsIDIpLCAxNik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdC5idWZmZXI7XG59XG4iLCJpbXBvcnQgeyBzdHJpbmdUb0FycmF5IH0gZnJvbSAnLi4vc3RyaW5nVXRpbHMnO1xuaW1wb3J0IHsgSVBhc3N3b3JkR2VuZXJhdG9yLCBnZXREZXJpdmVkQnl0ZXMgfSBmcm9tICcuLi9jcnlwdG8nO1xuXG5leHBvcnQgY2xhc3MgUGFzc3dvcmRHZW5lcmF0b3JWMSBpbXBsZW1lbnRzIElQYXNzd29yZEdlbmVyYXRvciB7XG4gICAgcHJpdmF0ZSBoa2RmUHVycG9zZTogQXJyYXlCdWZmZXI7XG4gICAgcHJpdmF0ZSBfZGVzY3JpcHRpb246IHN0cmluZztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihoa2RmUHVycG9zZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaGtkZlB1cnBvc2UgPSBzdHJpbmdUb0FycmF5KGhrZGZQdXJwb3NlKTtcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBgSEtERihQQktERjIsIEhNQUM1MTIpIFtwdXJwb3NlOiAke2hrZGZQdXJwb3NlfV1gO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgdmVyc2lvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRlc2NyaXB0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2VuZXJhdGVQYXNzd29yZChwcml2YXRlUGFydDogQXJyYXlCdWZmZXIsIHB1YmxpY1BhcnQ6IEFycmF5QnVmZmVyKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgICAgICBjb25zdCBkZXJpdmVkS2V5OiBBcnJheUJ1ZmZlciA9IGF3YWl0IGdldERlcml2ZWRCeXRlcyhwcml2YXRlUGFydCwgcHVibGljUGFydCk7XG5cbiAgICAgICAgY29uc3QgaG1hY1BhcmFtZXRlcnM6IEhtYWNJbXBvcnRQYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiAnSE1BQycsXG4gICAgICAgICAgICBoYXNoOiB7IG5hbWU6ICdTSEEtNTEyJyB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgaGtkZktleTogQ3J5cHRvS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgICAgICAncmF3JyxcbiAgICAgICAgICAgIGRlcml2ZWRLZXksXG4gICAgICAgICAgICBobWFjUGFyYW1ldGVycyxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWydzaWduJ11cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKCdITUFDJywgaGtkZktleSwgdGhpcy5oa2RmUHVycG9zZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSUNpcGhlciwgZ2V0RGVyaXZlZEJ5dGVzIH0gZnJvbSAnLi4vY3J5cHRvJztcblxuY29uc3QgZW5jcnlwdGlvbktleURlcml2YXRpb25TYWx0OiBBcnJheUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KFsgMHhmMiwgMHhjZiwgMHhlZiwgMHg4ZSwgMHgxMywgMHg0MCwgMHg0NiwgMHg0OSwgMHg5MiwgMHgyYSwgMHhkZSwgMHg1YywgMHhiYywgMHg4OCwgMHgzOCwgMHhhOCBdKS5idWZmZXI7XG5cbmV4cG9ydCBjbGFzcyBDaXBoZXJWMSBpbXBsZW1lbnRzIElDaXBoZXIge1xuICAgIHB1YmxpYyBnZXQgdmVyc2lvbigpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGRlc2NyaXB0aW9uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnUEJLREYyICsgQUVTLUdDTSc7XG4gICAgfVxuXG4gICAgYXN5bmMgZW5jcnlwdChpbnB1dDogQXJyYXlCdWZmZXIsIHBhc3N3b3JkOiBBcnJheUJ1ZmZlcik6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICAgICAgY29uc3Qgb3V0cHV0OiBBcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcigxMiArIDE2ICsgaW5wdXQuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgY29uc3Qgbm9uY2U6IERhdGFWaWV3ID0gbmV3IERhdGFWaWV3KG91dHB1dCwgMCwgMTIpO1xuICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KG91dHB1dCwgMCwgMTIpKTtcblxuICAgICAgICBjb25zdCBhZXNHY21QYXJhbXM6IEFlc0djbVBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdBRVMtR0NNJyxcbiAgICAgICAgICAgIGl2OiBub25jZVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGFlc0tleUFsZ29yaXRobTogQWVzS2V5QWxnb3JpdGhtID0ge1xuICAgICAgICAgICAgbmFtZTogJ0FFUy1HQ00nLFxuICAgICAgICAgICAgbGVuZ3RoOiAyNTZcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBwYXNzd29yZEtleTogQ3J5cHRvS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgICAgICAncmF3JyxcbiAgICAgICAgICAgIGF3YWl0IGdldERlcml2ZWRCeXRlcyhwYXNzd29yZCwgZW5jcnlwdGlvbktleURlcml2YXRpb25TYWx0KSxcbiAgICAgICAgICAgIGFlc0tleUFsZ29yaXRobSxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgWydlbmNyeXB0J11cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCByZXN1bHQ6IEFycmF5QnVmZmVyID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5lbmNyeXB0KGFlc0djbVBhcmFtcywgcGFzc3dvcmRLZXksIGlucHV0KTtcblxuICAgICAgICBuZXcgVWludDhBcnJheShvdXRwdXQpLnNldChuZXcgVWludDhBcnJheShyZXN1bHQpLCAxMik7XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG5cbiAgICBhc3luYyBkZWNyeXB0KGlucHV0OiBBcnJheUJ1ZmZlciwgcGFzc3dvcmQ6IEFycmF5QnVmZmVyKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgICAgICBjb25zdCBub25jZTogRGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoaW5wdXQsIDAsIDEyKTtcbiAgICAgICAgY29uc3QgcGF5bG9hZDogRGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoaW5wdXQsIDEyKTtcblxuICAgICAgICBjb25zdCBhZXNHY21QYXJhbXM6IEFlc0djbVBhcmFtcyA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdBRVMtR0NNJyxcbiAgICAgICAgICAgIGl2OiBub25jZVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGFlc0tleUFsZ29yaXRobTogQWVzS2V5QWxnb3JpdGhtID0ge1xuICAgICAgICAgICAgbmFtZTogJ0FFUy1HQ00nLFxuICAgICAgICAgICAgbGVuZ3RoOiAyNTZcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBkZXJpdmVkS2V5OiBBcnJheUJ1ZmZlciA9IGF3YWl0IGdldERlcml2ZWRCeXRlcyhwYXNzd29yZCwgZW5jcnlwdGlvbktleURlcml2YXRpb25TYWx0KTtcblxuICAgICAgICBjb25zdCBwYXNzd29yZEtleTogQ3J5cHRvS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgICAgICAncmF3JyxcbiAgICAgICAgICAgIGRlcml2ZWRLZXksXG4gICAgICAgICAgICBhZXNLZXlBbGdvcml0aG0sXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFsnZGVjcnlwdCddXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IGNyeXB0by5zdWJ0bGUuZGVjcnlwdChhZXNHY21QYXJhbXMsIHBhc3N3b3JkS2V5LCBwYXlsb2FkKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJy4vYXJyYXlVdGlscyc7XG5pbXBvcnQgeyBQYXNzd29yZEdlbmVyYXRvclYxIH0gZnJvbSAnLi9wYXNzd29yZEdlbmVyYXRvcnMvdjEnO1xuaW1wb3J0IHsgQ2lwaGVyVjEgfSBmcm9tICcuL2NpcGhlcnMvdjEnO1xuXG5leHBvcnQgY29uc3QgQkFTRTYyX0FMUEhBQkVUOiBzdHJpbmcgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODknO1xuXG5leHBvcnQgaW50ZXJmYWNlIElQYXNzd29yZEdlbmVyYXRvciB7XG4gICAgcmVhZG9ubHkgdmVyc2lvbjogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgZ2VuZXJhdGVQYXNzd29yZChwcml2YXRlUGFydDogQXJyYXlCdWZmZXIsIHB1YmxpY1BhcnQ6IEFycmF5QnVmZmVyKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNpcGhlciB7XG4gICAgcmVhZG9ubHkgdmVyc2lvbjogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgZW5jcnlwdChpbnB1dDogQXJyYXlCdWZmZXIsIHBhc3N3b3JkOiBBcnJheUJ1ZmZlcik6IFByb21pc2U8QXJyYXlCdWZmZXI+O1xuICAgIGRlY3J5cHQoaW5wdXQ6IEFycmF5QnVmZmVyLCBwYXNzd29yZDogQXJyYXlCdWZmZXIpOiBQcm9taXNlPEFycmF5QnVmZmVyPjtcbn1cblxuZXhwb3J0IGNvbnN0IHBhc3N3b3JkR2VuZXJhdG9yczogSVBhc3N3b3JkR2VuZXJhdG9yW10gPSBbXG4gICAgbmV3IFBhc3N3b3JkR2VuZXJhdG9yVjEoJ1Bhc3N3b3JkJyksXG5dO1xuXG5leHBvcnQgY29uc3QgY2lwaGVyczogSUNpcGhlcltdID0gW1xuICAgIG5ldyBDaXBoZXJWMSgpLFxuXTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlcml2ZWRCeXRlcyhwYXNzd29yZDogQXJyYXlCdWZmZXIsIHNhbHQ6IEFycmF5QnVmZmVyKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuICAgIGNvbnN0IGJhc2VLZXk6IENyeXB0b0tleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxuICAgICAgICAncmF3JyxcbiAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICdQQktERjInLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgWydkZXJpdmVLZXknXVxuICAgICk7XG5cbiAgICBjb25zdCBhbGdvcml0aG06IFBia2RmMlBhcmFtcyA9IHtcbiAgICAgICAgbmFtZTogJ1BCS0RGMicsXG4gICAgICAgIGhhc2g6ICdTSEEtNTEyJyxcbiAgICAgICAgaXRlcmF0aW9uczogMTAwMDAwLFxuICAgICAgICBzYWx0XG4gICAgfTtcblxuICAgIGNvbnN0IGRlcml2ZWRLZXlUeXBlOiBBZXNEZXJpdmVkS2V5UGFyYW1zID0ge1xuICAgICAgICBuYW1lOiAnQUVTLUNCQycsXG4gICAgICAgIGxlbmd0aDogMjU2XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3VsdDogQ3J5cHRvS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kZXJpdmVLZXkoXG4gICAgICAgIGFsZ29yaXRobSxcbiAgICAgICAgYmFzZUtleSxcbiAgICAgICAgZGVyaXZlZEtleVR5cGUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIFsnZW5jcnlwdCddXG4gICAgKTtcblxuICAgIGNvbnN0IGtleTogQXJyYXlCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmV4cG9ydEtleSgncmF3JywgcmVzdWx0KTtcblxuICAgIHJldHVybiBrZXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUJ5dGVzKGJ5dGVDb3VudDogbnVtYmVyID0gNjQpOiBBcnJheUJ1ZmZlciB7XG4gICAgY29uc3QgYXJyYXk6IFVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlQ291bnQpO1xuICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KS5idWZmZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVN0cmluZyhieXRlQ291bnQ6IG51bWJlciA9IDY0LCBhbHBoYWJldDogc3RyaW5nID0gQkFTRTYyX0FMUEhBQkVUKTogc3RyaW5nIHtcbiAgICBjb25zdCBhcnJheTogQXJyYXlCdWZmZXIgPSBnZW5lcmF0ZVJhbmRvbUJ5dGVzKGJ5dGVDb3VudCk7XG4gICAgcmV0dXJuIGFycmF5VXRpbHMudG9DdXN0b21CYXNlKGFycmF5LCBhbHBoYWJldCk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaXN1YWxGZWVkYmFjayB7XG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZXh0KHRleHQ6IHN0cmluZywgZHVyYXRpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gJycsIGR1cmF0aW9uKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBjcnlwdG8gZnJvbSAnLi9jcnlwdG8nO1xuaW1wb3J0ICogYXMgc3RyaW5nVXRpbHMgZnJvbSAnLi9zdHJpbmdVdGlscyc7XG5pbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJy4vYXJyYXlVdGlscyc7XG5cbmltcG9ydCBWaXN1YWxGZWVkYmFjayBmcm9tICcuL1Zpc3VhbEZlZWRiYWNrJztcbmltcG9ydCBUaW1lZEFjdGlvbiBmcm9tICcuL1RpbWVkQWN0aW9uJztcbmltcG9ydCB7IFBsYWluT2JqZWN0IH0gZnJvbSAnLi9QbGFpbk9iamVjdCc7XG5cbmltcG9ydCB7IFBhc3N3b3JkR2VuZXJhdG9yVjEgfSBmcm9tICcuL3Bhc3N3b3JkR2VuZXJhdG9ycy92MSc7XG5pbXBvcnQgeyBDaXBoZXJWMSB9IGZyb20gJy4vY2lwaGVycy92MSc7XG5cbmltcG9ydCB7IElTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlcy9JU3RvcmFnZSc7XG5pbXBvcnQgeyBHaXRIdWJTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlcy9HaXRIdWJTdG9yYWdlJztcblxuY29uc3QgcGFzc3dvcmRHZW5lcmF0b3I6IGNyeXB0by5JUGFzc3dvcmRHZW5lcmF0b3IgPSBuZXcgUGFzc3dvcmRHZW5lcmF0b3JWMSgnUGFzc3dvcmQnKTtcbmNvbnN0IGNpcGhlcjogY3J5cHRvLklDaXBoZXIgPSBuZXcgQ2lwaGVyVjEoKTtcblxuZnVuY3Rpb24gZ2V0RWxlbWVudEJ5SWQoZWxlbWVudE5hbWU6IHN0cmluZyk6IEhUTUxJbnB1dEVsZW1lbnQge1xuICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50fG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50TmFtZSk7XG5cbiAgICBpZiAoZWxlbWVudE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBET00gZWxlbWVudCAnJHtlbGVtZW50TmFtZX0nIG5vdCBmb3VuZC5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50O1xufVxuXG5jb25zdCBidG5Qcm90ZWN0VGl0bGVGb3JQcm90ZWN0ID0gJ1N0b3JlcyB0aGUgc3RyaW5nIGluIG1lbW9yeSBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBVSSBjb21wb25lbnQuIFByZXZlbnRzIGEgcGh5c2ljYWwgaW50cnVkZXIgZnJvbSBjb3B5L3Bhc3RpbmcgdGhlIHZhbHVlLic7XG5jb25zdCBidG5Qcm90ZWN0VGl0bGVGb3JDbGVhciA9ICdSZW1vdmVzIHRoZSBzdHJpbmcgZm9ybSBtZW1vcnkgYW5kIHJlLWVuYWJsZXMgdGhlIFVJIGNvbXBvbmVudC4nO1xuXG5jb25zdCB0eHRQcml2YXRlUGFydDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRQcml2YXRlUGFydCcpO1xuY29uc3QgdHh0UHJpdmF0ZVBhcnRDb25maXJtYXRpb246IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgndHh0UHJpdmF0ZVBhcnRDb25maXJtYXRpb24nKTtcbmNvbnN0IGJ0blByb3RlY3Q6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnYnRuUHJvdGVjdCcpO1xuY29uc3Qgc3BuUHJvdGVjdGVkQ29uZmlybWF0aW9uOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwblByb3RlY3RlZENvbmZpcm1hdGlvbicpO1xuY29uc3QgdHh0UGF0aDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRQYXRoJyk7XG5jb25zdCB0eHRQdWJsaWNQYXJ0OiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3R4dFB1YmxpY1BhcnQnKTtcbmNvbnN0IGJ0bkdlbmVyYXRlUHVibGljUGFydDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5HZW5lcmF0ZVB1YmxpY1BhcnQnKTtcbmNvbnN0IGJ0bkNsZWFyUHVibGljUGFydDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5DbGVhclB1YmxpY1BhcnQnKTtcbmNvbnN0IGJ0bkNvcHlQdWJsaWNQYXJ0OiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ2J0bkNvcHlQdWJsaWNQYXJ0Jyk7XG5jb25zdCBzcG5Db3B5UHVibGljUGFydEZlZWRiYWNrOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwbkNvcHlQdWJsaWNQYXJ0RmVlZGJhY2snKTtcblxuY29uc3Qgc3BuUHJpdmF0ZVBhcnRTaXplOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwblByaXZhdGVQYXJ0U2l6ZScpO1xuY29uc3Qgc3BuUHJpdmF0ZVBhcnRTaXplQ29uZmlybWF0aW9uOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwblByaXZhdGVQYXJ0U2l6ZUNvbmZpcm1hdGlvbicpO1xuXG5jb25zdCBudW1PdXRwdXRTaXplUmFuZ2U6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnbnVtT3V0cHV0U2l6ZVJhbmdlJyk7XG5jb25zdCBudW1PdXRwdXRTaXplTnVtOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ251bU91dHB1dFNpemVOdW0nKTtcblxuY29uc3QgdHh0QWxwaGFiZXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgndHh0QWxwaGFiZXQnKTtcbmNvbnN0IHNwbkFscGhhYmV0U2l6ZTogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdzcG5BbHBoYWJldFNpemUnKTtcbmNvbnN0IGJ0blJlc2V0QWxwaGFiZXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnYnRuUmVzZXRBbHBoYWJldCcpO1xuXG5jb25zdCB0eHRSZXN1bHRQYXNzd29yZDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRSZXN1bHRQYXNzd29yZCcpO1xuY29uc3Qgc3BuUmVzdWx0UGFzc3dvcmRMZW5ndGg6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnc3BuUmVzdWx0UGFzc3dvcmRMZW5ndGgnKTtcbmNvbnN0IGJ0bkNvcHlSZXN1bHRQYXNzd29yZDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5Db3B5UmVzdWx0UGFzc3dvcmQnKTtcbmNvbnN0IHNwbkNvcHlSZXN1bHRQYXNzd29yZEZlZWRiYWNrOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwbkNvcHlSZXN1bHRQYXNzd29yZEZlZWRiYWNrJyk7XG5cbmNvbnN0IHR4dFBhcmFtZXRlcnM6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgndHh0UGFyYW1ldGVycycpO1xuY29uc3QgdHh0Q3VzdG9tS2V5czogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRDdXN0b21LZXlzJyk7XG5cbmNvbnN0IGJ0blRhYlBhc3N3b3JkczogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5UYWJQYXNzd29yZHMnKTtcbmNvbnN0IGJ0blRhYkNpcGhlcnM6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnYnRuVGFiQ2lwaGVycycpO1xuY29uc3QgZGl2VGFiUGFzc3dvcmRzOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ2RpdlRhYlBhc3N3b3JkcycpO1xuY29uc3QgZGl2VGFiQ2lwaGVyczogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdkaXZUYWJDaXBoZXJzJyk7XG5cbmNvbnN0IHR4dENpcGhlclNvdXJjZTogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRDaXBoZXJTb3VyY2UnKTtcbmNvbnN0IHR4dENpcGhlclRhcmdldDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRDaXBoZXJUYXJnZXQnKTtcbmNvbnN0IGJ0bkVuY3J5cHQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnYnRuRW5jcnlwdCcpO1xuY29uc3QgYnRuRGVjcnlwdDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5EZWNyeXB0Jyk7XG5cbmNvbnN0IERFRkFVTFRfTEVOR1RIOiBudW1iZXIgPSA2NDtcbmNvbnN0IERFRkFVTFRfQUxQSEFCRVQ6IHN0cmluZyA9ICchXCIjJCUmXFwnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW11eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX4nO1xuXG5jb25zdCBQUklWQVRFX1BBUlRfUFJPVEVDVElPTl9USU1FT1VUOiBudW1iZXIgPSA2MCAqIDEwMDA7XG5cbmNvbnN0IFNVQ0NFU1NfQ09MT1I6IHN0cmluZyA9ICcjRDBGRkQwJztcbmNvbnN0IEVSUk9SX0NPTE9SOiBzdHJpbmcgPSAnI0ZGRDBEMCc7XG5cbmNvbnN0IFJFU0VSVkVEX0tFWVM6IHN0cmluZ1tdID0gWydhbHBoYWJldCcsICdsZW5ndGgnLCAncHVibGljJywgJ2RhdGV0aW1lJ107XG5cbi8vIGRhZnVxIT9cbm51bU91dHB1dFNpemVSYW5nZS5tYXggPSBERUZBVUxUX0xFTkdUSC50b1N0cmluZygpO1xubnVtT3V0cHV0U2l6ZVJhbmdlLnZhbHVlID0gREVGQVVMVF9MRU5HVEgudG9TdHJpbmcoKTtcblxuYnRuVGFiUGFzc3dvcmRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGJ0blRhYlBhc3N3b3Jkcy5zdHlsZS5zZXRQcm9wZXJ0eSgnZm9udC13ZWlnaHQnLCAnYm9sZCcpO1xuICAgIGJ0blRhYlBhc3N3b3Jkcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnY29sb3InKTtcbiAgICBidG5UYWJDaXBoZXJzLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdmb250LXdlaWdodCcpO1xuICAgIGJ0blRhYkNpcGhlcnMuc3R5bGUuc2V0UHJvcGVydHkoJ2NvbG9yJywgJyNDMEMwQzAnKTtcbiAgICBkaXZUYWJQYXNzd29yZHMuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbiAgICBkaXZUYWJDaXBoZXJzLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbn0pO1xuXG5idG5UYWJDaXBoZXJzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGJ0blRhYlBhc3N3b3Jkcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZm9udC13ZWlnaHQnKTtcbiAgICBidG5UYWJQYXNzd29yZHMuc3R5bGUuc2V0UHJvcGVydHkoJ2NvbG9yJywgJyNDMEMwQzAnKTtcbiAgICBidG5UYWJDaXBoZXJzLnN0eWxlLnNldFByb3BlcnR5KCdmb250LXdlaWdodCcsICdib2xkJyk7XG4gICAgYnRuVGFiQ2lwaGVycy5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnY29sb3InKTtcbiAgICBkaXZUYWJQYXNzd29yZHMuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgIGRpdlRhYkNpcGhlcnMuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbn0pO1xuXG5idG5UYWJQYXNzd29yZHMuc3R5bGUuc2V0UHJvcGVydHkoJ2ZvbnQtd2VpZ2h0JywgJ2JvbGQnKTtcbmJ0blRhYkNpcGhlcnMuc3R5bGUuc2V0UHJvcGVydHkoJ2NvbG9yJywgJyNDMEMwQzAnKTtcblxuYnRuRW5jcnlwdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBpZiAodHh0Q2lwaGVyU291cmNlLnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJpdmF0ZVBhcnQ6IHN0cmluZyA9IGdldFByaXZhdGVQYXJ0KCk7XG4gICAgaWYgKHByaXZhdGVQYXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5wdXQ6IEFycmF5QnVmZmVyID0gc3RyaW5nVXRpbHMuc3RyaW5nVG9BcnJheSh0eHRDaXBoZXJTb3VyY2UudmFsdWUpO1xuICAgIGNvbnN0IHBhc3N3b3JkOiBBcnJheUJ1ZmZlciA9IHN0cmluZ1V0aWxzLnN0cmluZ1RvQXJyYXkocHJpdmF0ZVBhcnQpO1xuXG4gICAgY29uc3QgZW5jcnlwdGVkOiBBcnJheUJ1ZmZlciA9IGF3YWl0IGNpcGhlci5lbmNyeXB0KGlucHV0LCBwYXNzd29yZCk7XG5cbiAgICB0eHRDaXBoZXJUYXJnZXQudmFsdWUgPSBhcnJheVV0aWxzLnRvQmFzZTE2KGVuY3J5cHRlZCk7XG59KTtcblxuYnRuRGVjcnlwdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICBpZiAodHh0Q2lwaGVyU291cmNlLnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJpdmF0ZVBhcnQ6IHN0cmluZyA9IGdldFByaXZhdGVQYXJ0KCk7XG4gICAgaWYgKHByaXZhdGVQYXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5wdXQ6IEFycmF5QnVmZmVyID0gc3RyaW5nVXRpbHMuZnJvbUJhc2UxNih0eHRDaXBoZXJTb3VyY2UudmFsdWUpO1xuICAgIGNvbnN0IHBhc3N3b3JkOiBBcnJheUJ1ZmZlciA9IHN0cmluZ1V0aWxzLnN0cmluZ1RvQXJyYXkocHJpdmF0ZVBhcnQpO1xuXG4gICAgY29uc3QgZGVjcnlwdGVkOiBBcnJheUJ1ZmZlciA9IGF3YWl0IGNpcGhlci5kZWNyeXB0KGlucHV0LCBwYXNzd29yZCk7XG5cbiAgICB0eHRDaXBoZXJUYXJnZXQudmFsdWUgPSBhcnJheVV0aWxzLmFycmF5VG9TdHJpbmcoZGVjcnlwdGVkKTtcbn0pO1xuXG5sZXQgcHJpdmF0ZVBhcnQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbmxldCBwYXNzd29yZFB1YmxpY1BhcnRMYXN0Q2hhbmdlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbmJ0bkNsZWFyUHVibGljUGFydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpZiAodHh0UHVibGljUGFydC52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChwcm9tcHQoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjbGVhciB0aGUgcHVibGljIHBhcnQgP1xcblR5cGUgXFwneVxcJyB0byBhY2NlcHQnLCAnJykgIT09ICd5Jykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdHh0UHVibGljUGFydC52YWx1ZSA9ICcnO1xuXG4gICAgdXBkYXRlUGFzc3dvcmRQdWJsaWNQYXJ0TGFzdFVwZGF0ZSgpO1xuICAgIHVwZGF0ZVBhc3N3b3JkR2VuZXJhdGlvblBhcmFtZXRlcnMoKTtcbn0pO1xuXG5idG5HZW5lcmF0ZVB1YmxpY1BhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHR4dFB1YmxpY1BhcnQudmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAocHJvbXB0KCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZ2VuZXJhdGUgYSBuZXcgcHVibGljIHBhcnQgP1xcblR5cGUgXFwneVxcJyB0byBhY2NlcHQnLCAnJykgIT09ICd5Jykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmFuZG9tU3RyaW5nOiBzdHJpbmcgPSBjcnlwdG8uZ2VuZXJhdGVSYW5kb21TdHJpbmcoKTtcbiAgICB0eHRQdWJsaWNQYXJ0LnZhbHVlID0gcmFuZG9tU3RyaW5nO1xuXG4gICAgdXBkYXRlUGFzc3dvcmRQdWJsaWNQYXJ0TGFzdFVwZGF0ZSgpO1xuXG4gICAgcnVuKCk7XG59KTtcblxuZnVuY3Rpb24gdXBkYXRlUGFzc3dvcmRQdWJsaWNQYXJ0TGFzdFVwZGF0ZSgpOiB2b2lkIHtcbiAgICBpZiAodHh0UHVibGljUGFydC52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhc3N3b3JkUHVibGljUGFydExhc3RDaGFuZ2UgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGFzc3dvcmRQdWJsaWNQYXJ0TGFzdENoYW5nZSA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFByaXZhdGVQYXJ0KCk6IHN0cmluZyB7XG4gICAgaWYgKHByaXZhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHByaXZhdGVQYXJ0O1xuICAgIH1cbiAgICByZXR1cm4gdHh0UHJpdmF0ZVBhcnQudmFsdWU7XG59XG5cbmZ1bmN0aW9uIHByb3RlY3RBbmRMb2NrUHJpdmF0ZVBhcnQoKTogdm9pZCB7XG4gICAgaWYgKHR4dFByaXZhdGVQYXJ0LnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJpdmF0ZVBhcnQgPSB0eHRQcml2YXRlUGFydC52YWx1ZTtcbiAgICBzcG5Qcm90ZWN0ZWRDb25maXJtYXRpb24uaW5uZXJIVE1MID0gJ1Byb3RlY3RlZCc7XG5cbiAgICB0eHRQcml2YXRlUGFydC52YWx1ZSA9ICcnO1xuICAgIHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLnZhbHVlID0gJyc7XG4gICAgc3BuUHJpdmF0ZVBhcnRTaXplLmlubmVySFRNTCA9ICcwJztcbiAgICBzcG5Qcml2YXRlUGFydFNpemVDb25maXJtYXRpb24uaW5uZXJIVE1MID0gJzAnO1xuXG4gICAgdHh0UHJpdmF0ZVBhcnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgIGJ0blByb3RlY3QuaW5uZXJIVE1MID0gJ0NsZWFyIGFuZCB1bmxvY2snO1xuICAgIGJ0blByb3RlY3QudGl0bGUgPSBidG5Qcm90ZWN0VGl0bGVGb3JDbGVhcjtcblxuICAgIHVwZGF0ZVByaXZhdGVQYXJ0c01hdGNoaW5nKCk7XG59XG5cbmZ1bmN0aW9uIGNsZWFyQW5kVW5Mb2NrUHJpdmF0ZVBhcnQoKTogdm9pZCB7XG4gICAgcHJpdmF0ZVBhcnQgPSB1bmRlZmluZWQ7XG4gICAgc3BuUHJvdGVjdGVkQ29uZmlybWF0aW9uLmlubmVySFRNTCA9ICcnO1xuXG4gICAgdHh0UHJpdmF0ZVBhcnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0eHRQcml2YXRlUGFydENvbmZpcm1hdGlvbi5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgYnRuUHJvdGVjdC5pbm5lckhUTUwgPSAnUHJvdGVjdCBhbmQgbG9jayc7XG4gICAgYnRuUHJvdGVjdC50aXRsZSA9IGJ0blByb3RlY3RUaXRsZUZvclByb3RlY3Q7XG4gICAgYnRuUHJvdGVjdC5kaXNhYmxlZCA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZVByaXZhdGVQYXJ0UHJvdGVjdGlvbigpOiB2b2lkIHtcbiAgICBpZiAocHJpdmF0ZVBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm90ZWN0QW5kTG9ja1ByaXZhdGVQYXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2xlYXJBbmRVbkxvY2tQcml2YXRlUGFydCgpO1xuICAgIH1cbn1cblxuYnRuUHJvdGVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB0b2dnbGVQcml2YXRlUGFydFByb3RlY3Rpb24oKTtcbn0pO1xuXG5mdW5jdGlvbiB1cGRhdGVDdXN0b21LZXlzRGlzcGxheShpc1ZhbGlkOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgdHh0Q3VzdG9tS2V5cy5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYmFja2dyb3VuZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHh0Q3VzdG9tS2V5cy5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZCcsIEVSUk9SX0NPTE9SKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VDdXN0b21LZXlzKCk6IFBsYWluT2JqZWN0IHwgbnVsbCB7XG4gICAgaWYgKHR4dEN1c3RvbUtleXMudmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvYmo6IGFueSA9IEpTT04ucGFyc2UodHh0Q3VzdG9tS2V5cy52YWx1ZSk7XG4gICAgICAgIGlmIChvYmogPT09IG51bGwgfHwgb2JqLmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqIGFzIFBsYWluT2JqZWN0O1xuICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNoYWxsb3dNZXJnZShzb3VyY2U6IFBsYWluT2JqZWN0IHwgbnVsbCwgdGFyZ2V0OiBQbGFpbk9iamVjdCB8IG51bGwpOiBQbGFpbk9iamVjdCB7XG4gICAgY29uc3QgcmVzdWx0OiBQbGFpbk9iamVjdCA9IHt9O1xuXG4gICAgaWYgKHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzb3VyY2UpKSB7XG4gICAgICAgICAgICBpZiAoUkVTRVJWRURfS0VZUy5pbmNsdWRlcyhrZXkpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0ICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2Uoc291cmNlOiBQbGFpbk9iamVjdCwgdGFyZ2V0OiBQbGFpbk9iamVjdCk6IHZvaWQge1xuICAgIGZvciAoY29uc3Qgc291cmNlS2V5IG9mIE9iamVjdC5rZXlzKHNvdXJjZSkpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWU6IGFueSA9IHRhcmdldFtzb3VyY2VLZXldO1xuICAgICAgICBjb25zdCBzb3VyY2VWYWx1ZTogYW55ID0gc291cmNlW3NvdXJjZUtleV07XG5cbiAgICAgICAgaWYgKHRhcmdldFZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID09PSBudWxsIHx8XG4gICAgICAgICAgICB0YXJnZXRWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0JyB8fFxuICAgICAgICAgICAgc291cmNlVmFsdWUuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgIHRhcmdldFtzb3VyY2VLZXldID0gc291cmNlVmFsdWU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZXBNZXJnZShzb3VyY2VWYWx1ZSwgdGFyZ2V0VmFsdWUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0dXBWaWV3QnV0dG9uKHR4dDogSFRNTElucHV0RWxlbWVudCwgYnV0dG9uTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYnRuOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoYnV0dG9uTmFtZSk7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAodHh0LnR5cGUgPT09ICdwYXNzd29yZCcpIHtcbiAgICAgICAgICAgIHR4dC50eXBlID0gJ2lucHV0JztcbiAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSAnSGlkZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0eHQudHlwZSA9ICdwYXNzd29yZCc7XG4gICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gJ1ZpZXcnO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IGNvcHlSZXN1bHRQYXNzd29yZFRvQ2xpcGJvYXJkRmVlZGJhY2tPYmplY3Q6IFZpc3VhbEZlZWRiYWNrID0gbmV3IFZpc3VhbEZlZWRiYWNrKHNwbkNvcHlSZXN1bHRQYXNzd29yZEZlZWRiYWNrKTtcbmNvbnN0IGNvcHlQdWJsaWNQYXJ0VG9DbGlwYm9hcmRGZWVkYmFja09iamVjdDogVmlzdWFsRmVlZGJhY2sgPSBuZXcgVmlzdWFsRmVlZGJhY2soc3BuQ29weVB1YmxpY1BhcnRGZWVkYmFjayk7XG5cbmFzeW5jIGZ1bmN0aW9uIHdyaXRlVG9DbGlwYm9hcmQodGV4dDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2sgfHwgZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXR1cENvcHlCdXR0b24odHh0OiBIVE1MSW5wdXRFbGVtZW50LCBidXR0b246IEhUTUxJbnB1dEVsZW1lbnQsIGZlZWRiYWNrOiBWaXN1YWxGZWVkYmFjayk6IHZvaWQge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGF3YWl0IHdyaXRlVG9DbGlwYm9hcmQodHh0LnZhbHVlKSkge1xuICAgICAgICAgICAgZmVlZGJhY2suc2V0VGV4dCgnQ29waWVkJywgMzAwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmZWVkYmFjay5zZXRUZXh0KCc8c3BhbiBzdHlsZT1cImNvbG9yOiByZWRcIj5GYWlsZWQgdG8gY29weTwvc3Bhbj4nLCAzMDAwKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVSZXN1bHRQYXNzd29yZExlbmd0aCgpIHtcbiAgICBzcG5SZXN1bHRQYXNzd29yZExlbmd0aC5pbm5lckhUTUwgPSB0eHRSZXN1bHRQYXNzd29yZC52YWx1ZS5sZW5ndGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnICcpO1xufVxuXG5zZXR1cFZpZXdCdXR0b24odHh0UmVzdWx0UGFzc3dvcmQsICdidG5WaWV3UmVzdWx0UGFzc3dvcmQnKTtcblxuc2V0dXBDb3B5QnV0dG9uKHR4dFB1YmxpY1BhcnQsIGJ0bkNvcHlQdWJsaWNQYXJ0LCBjb3B5UHVibGljUGFydFRvQ2xpcGJvYXJkRmVlZGJhY2tPYmplY3QpO1xuc2V0dXBDb3B5QnV0dG9uKHR4dFJlc3VsdFBhc3N3b3JkLCBidG5Db3B5UmVzdWx0UGFzc3dvcmQsIGNvcHlSZXN1bHRQYXNzd29yZFRvQ2xpcGJvYXJkRmVlZGJhY2tPYmplY3QpO1xuXG5mdW5jdGlvbiBpc0FscGhhYmV0VmFsaWQoYWxwaGFiZXQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHNvcnRlZEFscGhhYmV0OiBzdHJpbmdbXSA9IGFscGhhYmV0LnNwbGl0KCcnKTtcbiAgICBzb3J0ZWRBbHBoYWJldC5zb3J0KCk7XG5cbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAxOyBpIDwgc29ydGVkQWxwaGFiZXQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHNvcnRlZEFscGhhYmV0W2kgLSAxXSA9PT0gc29ydGVkQWxwaGFiZXRbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG50eXBlIElDaGFpbkluZm8gPSB7XG4gICAgaGVhZDogUGxhaW5PYmplY3QsXG4gICAgdGFpbFBhcmVudDogUGxhaW5PYmplY3QsXG4gICAgdGFpbDogUGxhaW5PYmplY3Rcbn07XG5cbi8vIFRyYW5zZm9ybXMgYSBwYXRoIGxpa2UgXCJhL2IvYy9kXCIgaW50byBhIGhpZXJhcmNoeSBvZiBvYmplY3RzIGxpa2UgeyBcImFcIjogeyBcImJcIjogeyBcImNcIjogeyBcImRcIjoge30gfSB9IH0gfVxuLy8gRnJvbSB0aGUgcmVzdWx0IG9iamVjdCwgaGVhZCBpcyB0aGUgcm9vdCBvYmplY3QgdGhhdCBjb250YWlucyBcImFcIiwgdGFpbCBpcyB0aGUgdmFsdWUgb2YgXCJkXCIsIGFuZCB0YWlsUGFyZW50IGlzIHRoZSB2YWx1ZSBvZiBcImNcIlxuZnVuY3Rpb24gcGF0aFRvT2JqZWN0Q2hhaW4ocGF0aDogc3RyaW5nLCBjaGFpbkluZm86IElDaGFpbkluZm8gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBJQ2hhaW5JbmZvIHtcbiAgICBjb25zdCBzZXBhcmF0b3JJbmRleDogbnVtYmVyID0gcGF0aC5pbmRleE9mKCcvJyk7XG5cbiAgICBjb25zdCB0YWlsOiBQbGFpbk9iamVjdCA9IHt9O1xuXG4gICAgY29uc3QgZmlyc3RQYXRoOiBzdHJpbmcgPSBzZXBhcmF0b3JJbmRleCA+PSAwID8gcGF0aC5zdWJzdHIoMCwgc2VwYXJhdG9ySW5kZXgpIDogcGF0aDtcbiAgICBjb25zdCByZW1haW5pbmdQYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBzZXBhcmF0b3JJbmRleCA+PSAwID8gcGF0aC5zdWJzdHIoc2VwYXJhdG9ySW5kZXggKyAxKSA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChjaGFpbkluZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBub2RlOiBQbGFpbk9iamVjdCA9IHt9O1xuICAgICAgICBub2RlW2ZpcnN0UGF0aF0gPSB0YWlsO1xuICAgICAgICBjaGFpbkluZm8gPSB7XG4gICAgICAgICAgICBoZWFkOiBub2RlLFxuICAgICAgICAgICAgdGFpbFBhcmVudDogbm9kZSxcbiAgICAgICAgICAgIHRhaWxcbiAgICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjaGFpbkluZm8udGFpbFtmaXJzdFBhdGhdID0gdGFpbDtcbiAgICAgICAgY2hhaW5JbmZvLnRhaWxQYXJlbnQgPSBjaGFpbkluZm8udGFpbDtcbiAgICAgICAgY2hhaW5JbmZvLnRhaWwgPSB0YWlsO1xuICAgIH1cblxuICAgIGlmIChyZW1haW5pbmdQYXRoKSB7XG4gICAgICAgIHJldHVybiBwYXRoVG9PYmplY3RDaGFpbihyZW1haW5pbmdQYXRoLCBjaGFpbkluZm8pO1xuICAgIH1cblxuICAgIHJldHVybiBjaGFpbkluZm87XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVBhc3N3b3JkR2VuZXJhdGlvblBhcmFtZXRlcnMoKTogdm9pZCB7XG4gICAgaWYgKGNhblJ1bigpID09PSBmYWxzZSkge1xuICAgICAgICBjbGVhck91dHB1dHMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYWluSW5mbzogSUNoYWluSW5mbyA9IHBhdGhUb09iamVjdENoYWluKHR4dFBhdGgudmFsdWUpO1xuICAgIGNvbnN0IGxlYWY6IFBsYWluT2JqZWN0ID0gY2hhaW5JbmZvLnRhaWw7XG5cbiAgICBsZWFmLnB1YmxpYyA9IHR4dFB1YmxpY1BhcnQudmFsdWU7XG4gICAgbGVhZi5kYXRldGltZSA9IHBhc3N3b3JkUHVibGljUGFydExhc3RDaGFuZ2U7XG5cbiAgICBjb25zdCBudW1lcmljVmFsdWU6IG51bWJlciA9IHBhcnNlSW50KG51bU91dHB1dFNpemVOdW0udmFsdWUsIDEwKTtcbiAgICBpZiAobnVtZXJpY1ZhbHVlICE9PSBERUZBVUxUX0xFTkdUSCkge1xuICAgICAgICBsZWFmLmxlbmd0aCA9IG51bWVyaWNWYWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBhbHBoYWJldDogc3RyaW5nID0gdHh0QWxwaGFiZXQudmFsdWU7XG4gICAgaWYgKGFscGhhYmV0ICE9PSBERUZBVUxUX0FMUEhBQkVUKSB7XG4gICAgICAgIGxlYWYuYWxwaGFiZXQgPSBhbHBoYWJldDtcbiAgICB9XG5cbiAgICBjb25zdCBjdXN0b21LZXlzOiBQbGFpbk9iamVjdCB8IG51bGwgPSBwYXJzZUN1c3RvbUtleXMoKTtcbiAgICB1cGRhdGVDdXN0b21LZXlzRGlzcGxheShjdXN0b21LZXlzICE9PSBudWxsKTtcbiAgICBjb25zdCByZXN1bHRQYXJhbWV0ZXJzOiBQbGFpbk9iamVjdCA9IHNoYWxsb3dNZXJnZShjdXN0b21LZXlzLCBsZWFmKTtcblxuICAgIGlmIChPYmplY3Qua2V5cyhyZXN1bHRQYXJhbWV0ZXJzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gU2V0IHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgKHNpbmdsZSkgcHJvcGVydHkgb2YgdGhlIG9iamVjdCB0byBudWxsLlxuICAgICAgICBjaGFpbkluZm8udGFpbFBhcmVudFtPYmplY3Qua2V5cyhjaGFpbkluZm8udGFpbFBhcmVudClbMF1dID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjaGFpbkluZm8udGFpbFBhcmVudFtPYmplY3Qua2V5cyhjaGFpbkluZm8udGFpbFBhcmVudClbMF1dID0gcmVzdWx0UGFyYW1ldGVycztcbiAgICB9XG5cbiAgICB0eHRQYXJhbWV0ZXJzLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoY2hhaW5JbmZvLmhlYWQsIHVuZGVmaW5lZCwgNCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU91dHB1dFNpemVSYW5nZVRvTnVtKCk6IHZvaWQge1xuICAgIG51bU91dHB1dFNpemVOdW0udmFsdWUgPSBudW1PdXRwdXRTaXplUmFuZ2UudmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU91dHB1dFNpemVOdW1Ub1JhbmdlKCk6IHZvaWQge1xuICAgIGNvbnN0IG1pbjogbnVtYmVyID0gcGFyc2VJbnQobnVtT3V0cHV0U2l6ZVJhbmdlLm1pbiwgMTApO1xuICAgIGNvbnN0IHZhbDogbnVtYmVyID0gcGFyc2VJbnQobnVtT3V0cHV0U2l6ZU51bS52YWx1ZSwgMTApO1xuICAgIGNvbnN0IG1heDogbnVtYmVyID0gcGFyc2VJbnQobnVtT3V0cHV0U2l6ZVJhbmdlLm1heCwgMTApO1xuICAgIG51bU91dHB1dFNpemVSYW5nZS52YWx1ZSA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4odmFsLCBtYXgpKS50b1N0cmluZygpO1xufVxuXG5udW1PdXRwdXRTaXplUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdXBkYXRlT3V0cHV0U2l6ZVJhbmdlVG9OdW0oKTtcbiAgICBydW4oKTtcbn0pO1xuXG5udW1PdXRwdXRTaXplTnVtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHVwZGF0ZU91dHB1dFNpemVOdW1Ub1JhbmdlKCk7XG4gICAgdXBkYXRlT3V0cHV0U2l6ZVJhbmdlVG9OdW0oKTtcbiAgICBydW4oKTtcbn0pO1xuXG5mdW5jdGlvbiB1cGRhdGVBbHBoYWJldFNpemUoKTogdm9pZCB7XG4gICAgc3BuQWxwaGFiZXRTaXplLmlubmVySFRNTCA9IHR4dEFscGhhYmV0LnZhbHVlLmxlbmd0aC50b1N0cmluZygpO1xuXG4gICAgY29uc3QgYWxwaGFiZXRTaXplRGlnaXRDb3VudDogbnVtYmVyID0gdHh0QWxwaGFiZXQudmFsdWUubGVuZ3RoLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgIGlmIChhbHBoYWJldFNpemVEaWdpdENvdW50IDwgMikge1xuICAgICAgICAvLyBBZGQgYSBzcGFjZSB0byBrZWVwIGEgbmljZSB2aXN1YWwgYWxpZ25tZW50LlxuICAgICAgICBzcG5BbHBoYWJldFNpemUuaW5uZXJIVE1MID0gc3BuQWxwaGFiZXRTaXplLmlubmVySFRNTC5wYWRTdGFydCgyLCAnICcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQWxwaGFiZXRWYWxpZGl0eURpc3BsYXkoaXNBbHBoYWJldFZhbGlkOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKGlzQWxwaGFiZXRWYWxpZCkge1xuICAgICAgICB0eHRBbHBoYWJldC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYmFja2dyb3VuZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHR4dEFscGhhYmV0LnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kJywgRVJST1JfQ09MT1IpO1xuICAgIH1cbn1cblxudHh0QWxwaGFiZXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgY29uc3QgaXNBbHBoYWJldFZhbGlkUmVzdWx0OiBib29sZWFuID0gaXNBbHBoYWJldFZhbGlkKHR4dEFscGhhYmV0LnZhbHVlKTtcblxuICAgIHVwZGF0ZUFscGhhYmV0VmFsaWRpdHlEaXNwbGF5KGlzQWxwaGFiZXRWYWxpZFJlc3VsdCk7XG5cbiAgICBpZiAoaXNBbHBoYWJldFZhbGlkUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlQWxwaGFiZXRTaXplKCk7XG4gICAgcnVuKCk7XG59KTtcblxuYnRuUmVzZXRBbHBoYWJldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICByZXNldEFscGhhYmV0KCk7XG4gICAgdXBkYXRlQWxwaGFiZXRTaXplKCk7XG4gICAgcnVuKCk7XG59KTtcblxuZnVuY3Rpb24gY2xlYXJPdXRwdXRzKCk6IHZvaWQge1xuICAgIHR4dFJlc3VsdFBhc3N3b3JkLnZhbHVlID0gJyc7XG4gICAgdHh0UGFyYW1ldGVycy52YWx1ZSA9ICcnO1xuXG4gICAgdXBkYXRlUmVzdWx0UGFzc3dvcmRMZW5ndGgoKTtcbn1cblxuZnVuY3Rpb24gY2FuUnVuKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGFscGhhYmV0OiBzdHJpbmcgPSB0eHRBbHBoYWJldC52YWx1ZTtcblxuICAgIGlmIChpc0FscGhhYmV0VmFsaWQoYWxwaGFiZXQpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGdldFByaXZhdGVQYXJ0KCkubGVuZ3RoIDw9IDAgfHwgdHh0UHVibGljUGFydC52YWx1ZS5sZW5ndGggPCA4IHx8IGFscGhhYmV0Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5hc3luYyBmdW5jdGlvbiBydW4oKSB7XG4gICAgdXBkYXRlUGFzc3dvcmRHZW5lcmF0aW9uUGFyYW1ldGVycygpO1xuXG4gICAgaWYgKGNhblJ1bigpID09PSBmYWxzZSkge1xuICAgICAgICBjbGVhck91dHB1dHMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByaXZhdGVQYXJ0U3RyaW5nOiBzdHJpbmcgPSBnZXRQcml2YXRlUGFydCgpO1xuICAgIGNvbnN0IHB1YmxpY1BhcnRTdHJpbmcgPSB0eHRQdWJsaWNQYXJ0LnZhbHVlO1xuXG4gICAgY29uc3QgcHJpdmF0ZVByaXZhdGVCeXRlczogQXJyYXlCdWZmZXIgPSBzdHJpbmdVdGlscy5zdHJpbmdUb0FycmF5KHByaXZhdGVQYXJ0U3RyaW5nKTtcbiAgICBjb25zdCBwdWJsaWNQYXJ0Qnl0ZXM6IEFycmF5QnVmZmVyID0gc3RyaW5nVXRpbHMuc3RyaW5nVG9BcnJheShwdWJsaWNQYXJ0U3RyaW5nKTtcblxuICAgIGNvbnN0IGtleUJ5dGVzOiBBcnJheUJ1ZmZlciA9IGF3YWl0IHBhc3N3b3JkR2VuZXJhdG9yLmdlbmVyYXRlUGFzc3dvcmQocHJpdmF0ZVByaXZhdGVCeXRlcywgcHVibGljUGFydEJ5dGVzKTtcblxuICAgIGNvbnN0IGtleVN0cmluZzogc3RyaW5nID0gYXJyYXlVdGlscy50b0N1c3RvbUJhc2Uoa2V5Qnl0ZXMsIHR4dEFscGhhYmV0LnZhbHVlKTtcbiAgICB0eHRSZXN1bHRQYXNzd29yZC52YWx1ZSA9IHN0cmluZ1V0aWxzLnRydW5jYXRlKGtleVN0cmluZywgcGFyc2VJbnQobnVtT3V0cHV0U2l6ZVJhbmdlLnZhbHVlLCAxMCkpO1xuXG4gICAgdXBkYXRlUmVzdWx0UGFzc3dvcmRMZW5ndGgoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzZXRBbHBoYWJldCgpIHtcbiAgICB0eHRBbHBoYWJldC52YWx1ZSA9IERFRkFVTFRfQUxQSEFCRVQ7XG4gICAgdXBkYXRlQWxwaGFiZXRTaXplKCk7XG5cbiAgICBjb25zdCBpc0FscGhhYmV0VmFsaWRSZXN1bHQ6IGJvb2xlYW4gPSBpc0FscGhhYmV0VmFsaWQodHh0QWxwaGFiZXQudmFsdWUpO1xuXG4gICAgdXBkYXRlQWxwaGFiZXRWYWxpZGl0eURpc3BsYXkoaXNBbHBoYWJldFZhbGlkUmVzdWx0KTtcblxuICAgIGlmIChpc0FscGhhYmV0VmFsaWRSZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgcnVuKCk7XG4gICAgfVxufVxuXG5jb25zdCBwcm90ZWN0UHJpdmF0ZVBhcnRBY3Rpb246IFRpbWVkQWN0aW9uID0gbmV3IFRpbWVkQWN0aW9uKHByb3RlY3RBbmRMb2NrUHJpdmF0ZVBhcnQsIFBSSVZBVEVfUEFSVF9QUk9URUNUSU9OX1RJTUVPVVQpO1xuXG50eHRQcml2YXRlUGFydC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBidG5Qcm90ZWN0LmRpc2FibGVkID0gdHh0UHJpdmF0ZVBhcnQudmFsdWUubGVuZ3RoID09PSAwO1xuXG4gICAgc3BuUHJpdmF0ZVBhcnRTaXplLmlubmVySFRNTCA9IHR4dFByaXZhdGVQYXJ0LnZhbHVlLmxlbmd0aC50b1N0cmluZygpO1xuICAgIHVwZGF0ZVByaXZhdGVQYXJ0c01hdGNoaW5nKCk7XG4gICAgcnVuKCk7XG4gICAgcHJvdGVjdFByaXZhdGVQYXJ0QWN0aW9uLnJlc2V0KCk7XG59KTtcblxuZnVuY3Rpb24gdXBkYXRlUHJpdmF0ZVBhcnRzTWF0Y2hpbmcoKTogdm9pZCB7XG4gICAgaWYgKHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLnZhbHVlID09PSB0eHRQcml2YXRlUGFydC52YWx1ZSkge1xuICAgICAgICB0eHRQcml2YXRlUGFydENvbmZpcm1hdGlvbi5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZCcsIFNVQ0NFU1NfQ09MT1IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kJywgRVJST1JfQ09MT1IpO1xuICAgIH1cbn07XG5cbnR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNwblByaXZhdGVQYXJ0U2l6ZUNvbmZpcm1hdGlvbi5pbm5lckhUTUwgPSB0eHRQcml2YXRlUGFydENvbmZpcm1hdGlvbi52YWx1ZS5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICB1cGRhdGVQcml2YXRlUGFydHNNYXRjaGluZygpO1xufSk7XG5cbnR4dFBhdGguYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdXBkYXRlUGFzc3dvcmRHZW5lcmF0aW9uUGFyYW1ldGVycygpO1xufSk7XG5cbnR4dFB1YmxpY1BhcnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdXBkYXRlUGFzc3dvcmRQdWJsaWNQYXJ0TGFzdFVwZGF0ZSgpO1xuICAgIHVwZGF0ZVBhc3N3b3JkR2VuZXJhdGlvblBhcmFtZXRlcnMoKTtcbiAgICBydW4oKTtcbn0pO1xuXG50eHRDdXN0b21LZXlzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHVwZGF0ZVBhc3N3b3JkR2VuZXJhdGlvblBhcmFtZXRlcnMoKTtcbn0pO1xuXG51cGRhdGVPdXRwdXRTaXplUmFuZ2VUb051bSgpO1xucmVzZXRBbHBoYWJldCgpO1xudXBkYXRlUHJpdmF0ZVBhcnRzTWF0Y2hpbmcoKTtcbmJ0blByb3RlY3QudGl0bGUgPSBidG5Qcm90ZWN0VGl0bGVGb3JQcm90ZWN0O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZWRBY3Rpb24ge1xuICAgIHByaXZhdGUgdGltZW91dDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGFjdGlvbjogRnVuY3Rpb24sIHByaXZhdGUgZGVsYXk6IG51bWJlcikge1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldChvdmVycmlkZURlbGF5OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gb3ZlcnJpZGVEZWxheSAhPT0gdW5kZWZpbmVkID8gb3ZlcnJpZGVEZWxheSA6IHRoaXMuZGVsYXk7XG5cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==