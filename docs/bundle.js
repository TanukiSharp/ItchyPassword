!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){return(new TextEncoder).encode(t).buffer}function i(t,e){const n=BigInt(e.length);let r="",i=function(t){const e=t.byteLength,n=new DataView(t,0);let r=0n;for(let t=0;t<e;t+=1)r+=BigInt(n.getUint8(t))*256n**BigInt(t);return r}(t);for(;i>0n;){const t=i%n;i/=n,r+=e[BigInt.asUintN(64,t)]}return r}n.r(e);const a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";new Uint8Array([242,207,239,142,19,64,70,73,146,42,222,92,188,136,56,168]).buffer;async function o(t,e){const n=await crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveKey"]),r={name:"PBKDF2",hash:"SHA-512",iterations:1e5,salt:e},i=await crypto.subtle.deriveKey(r,n,{name:"AES-CBC",length:256},!0,["encrypt"]);return await crypto.subtle.exportKey("raw",i)}function u(t=64,e=a){return i(function(t=64){const e=new Uint8Array(t);return crypto.getRandomValues(e).buffer}(t),e)}class l{constructor(t){this.element=t}setText(t,e){this.element.innerHTML=t,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.element.innerHTML="",e)}}function s(t){const e=document.getElementById(t);if(null===t)throw new Error(`DOM element '${t}' not found.`);return e}const c=s("txtPrivatePart"),d=s("txtPrivatePartConfirmation"),p=s("btnProtect"),v=s("spnProtectedConfirmation"),f=s("txtPath"),y=s("txtPublicPart"),b=s("btnGeneratePublicPart"),g=s("btnClearPublicPart"),h=s("btnCopyPublicPart"),P=s("spnCopyPublicPartFeedback"),m=s("spnPrivatePartSize"),w=s("spnPrivatePartSizeConfirmation"),L=s("numOutputSizeRange"),T=s("numOutputSizeNum"),M=s("txtAlphabet"),S=s("spnAlphabetSize"),x=s("btnResetAlphabet"),H=s("txtResultPassword"),k=s("spnResultPasswordLength"),O=s("btnCopyResultPassword"),E=s("spnCopyResultPasswordFeedback"),C=s("txtParameters"),j=s("txtCustomKeys"),A=64,I="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~",F="#D0FFD0",B="#FFD0D0",D=["alphabet","length","public"];let K;function R(){return void 0!==K?K:c.value}function z(){0!==c.value.length&&(K=c.value,v.innerHTML="Protected",c.value="",d.value="",m.innerHTML="0",w.innerHTML="0",c.disabled=!0,d.disabled=!0,p.innerHTML="Clear and unlock",nt())}function _(){void 0===K?z():(K=void 0,v.innerHTML="",c.disabled=!1,d.disabled=!1,p.innerHTML="Protect and lock")}L.max=A.toString(),L.value=A.toString(),g.addEventListener("click",()=>{y.value.length>0&&"y"!==prompt("Are you sure you want to clear the public part ?\nType 'y' to accept","")||(y.value="",q())}),b.addEventListener("click",()=>{if(y.value.length>0&&"y"!==prompt("Are you sure you want to generate a new public part ?\nType 'y' to accept",""))return;const t=u();y.value=t,$()}),p.addEventListener("click",()=>{_()});const N=new l(E),U=new l(P);function V(t,e,n){e.addEventListener("click",async()=>{await async function(t){try{return await navigator.clipboard.writeText(t),!0}catch(t){return console.error(t.stack||t),!1}}(t.value)?n.setText("Copied",3e3):n.setText('<span style="color: red">Failed to copy</span>',3e3)})}function J(){k.innerHTML=H.value.length.toString().padStart(2," ")}function G(t){const e=t.split("");e.sort();for(let t=1;t<e.length;t+=1)if(e[t-1]===e[t])return!1;return!0}function q(){if(!1===Z())return void Y();const t=function t(e,n){const r=e.indexOf("/"),i={},a=r>=0?e.substr(0,r):e,o=r>=0?e.substr(r+1):void 0;if(void 0===n){const t={};t[a]=i,n={head:t,tailParent:t,tail:i}}else n.tail[a]=i,n.tailParent=n.tail,n.tail=i;return o?t(o,n):n}(f.value),e=t.tail;e.public=y.value;const n=parseInt(T.value,10);n!==A&&(e.length=n);const r=M.value;r!==I&&(e.alphabet=r);const i=function(){if(""===j.value)return{};try{const t=JSON.parse(j.value);return null===t||"Object"!==t.constructor.name?null:t}catch{return null}}();null!==i?j.style.removeProperty("background"):j.style.setProperty("background",B);const a=function(t,e){const n={};if(null!==t)for(const[e,r]of Object.entries(t))!1===D.includes(e)&&(n[e]=r);if(null!==e)for(const[t,r]of Object.entries(e))n[t]=r;return n}(i,e);0===Object.keys(a).length?t.tailParent[Object.keys(t.tailParent)[0]]=null:t.tailParent[Object.keys(t.tailParent)[0]]=a,C.value=JSON.stringify(t.head,void 0,4)}function Q(){T.value=L.value}function W(){S.innerHTML=M.value.length.toString(),M.value.length.toString().length<2&&(S.innerHTML=S.innerHTML.padStart(2," "))}function X(t){t?M.style.removeProperty("background"):M.style.setProperty("background",B)}function Y(){H.value="",C.value="",J()}function Z(){const t=M.value;return!1!==G(t)&&!(R().length<=0||y.value.length<8||t.length<2)}async function $(){if(q(),!1===Z())return void Y();const t=R(),e=y.value,n=r(t),a=r(e),u=i(await async function(t,e,n){const i=await o(t,e),a=await crypto.subtle.importKey("raw",i,{name:"HMAC",hash:{name:"SHA-512"}},!1,["sign"]);return await crypto.subtle.sign("HMAC",a,r(n))}(n,a,"Password"),M.value);var l,s;H.value=(l=u,s=parseInt(L.value,10),l.length<=s?l:l.substr(0,s)),J()}async function tt(){M.value=I,W();const t=G(M.value);X(t),t&&await $()}!function(t,e){const n=s(e);n.addEventListener("click",()=>{"password"===t.type?(t.type="input",n.innerHTML="Hide"):(t.type="password",n.innerHTML="View")})}(H,"btnViewResultPassword"),V(y,h,U),V(H,O,N),L.addEventListener("input",()=>{Q(),$()}),T.addEventListener("input",()=>{!function(){const t=parseInt(L.min,10),e=parseInt(T.value,10),n=parseInt(L.max,10);L.value=Math.max(t,Math.min(e,n)).toString()}(),Q(),$()}),M.addEventListener("input",()=>{const t=G(M.value);X(t),!1!==t&&(W(),$())}),x.addEventListener("click",()=>{tt(),W(),$()});const et=new class{constructor(t,e){this.action=t,this.delay=e}reset(t){void 0!==this.timeout&&clearTimeout(this.timeout);const e=void 0!==t?t:this.delay;this.timeout=setTimeout(()=>{this.action(),this.timeout=void 0},e)}}(z,6e4);function nt(){d.value===c.value?d.style.setProperty("background",F):d.style.setProperty("background",B)}c.addEventListener("input",()=>{p.disabled=0===c.value.length,m.innerHTML=c.value.length.toString(),nt(),$(),et.reset()}),d.addEventListener("input",()=>{w.innerHTML=d.value.length.toString(),nt()}),f.addEventListener("input",()=>{q()}),y.addEventListener("input",()=>{q(),$()}),j.addEventListener("input",()=>{q()}),Q(),tt(),nt()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ1V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9hcnJheVV0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9jcnlwdG8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Zpc3VhbEZlZWRiYWNrLnRzIiwid2VicGFjazovLy8uL3NyYy91aS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGltZWRBY3Rpb24udHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJzdHJpbmdUb0FycmF5Iiwic3RyIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJidWZmZXIiLCJ0b0N1c3RvbUJhc2UiLCJieXRlcyIsImFscGhhYmV0IiwiYWxwaGFiZXRMZW5ndGgiLCJCaWdJbnQiLCJsZW5ndGgiLCJyZXN1bHQiLCJudW1iZXIiLCJhcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJhcnJheVZpZXciLCJEYXRhVmlldyIsImdldFVpbnQ4IiwiYXJyYXlCdWZmZXJUb1Vuc2lnbmVkQmlnSW50IiwicmVtYWluZGVyIiwiYXNVaW50TiIsIkJBU0U2Ml9BTFBIQUJFVCIsIlVpbnQ4QXJyYXkiLCJhc3luYyIsImdldERlcml2ZWRCeXRlcyIsInBhc3N3b3JkIiwic2FsdCIsImJhc2VLZXkiLCJjcnlwdG8iLCJzdWJ0bGUiLCJpbXBvcnRLZXkiLCJhbGdvcml0aG0iLCJoYXNoIiwiaXRlcmF0aW9ucyIsImRlcml2ZUtleSIsImV4cG9ydEtleSIsImdlbmVyYXRlUmFuZG9tU3RyaW5nIiwiYnl0ZUNvdW50IiwiYXJyYXkiLCJnZXRSYW5kb21WYWx1ZXMiLCJnZW5lcmF0ZVJhbmRvbUJ5dGVzIiwiVmlzdWFsRmVlZGJhY2siLCJlbGVtZW50IiwidGhpcyIsInRleHQiLCJkdXJhdGlvbiIsImlubmVySFRNTCIsInRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJlbGVtZW50TmFtZSIsImRvY3VtZW50IiwiRXJyb3IiLCJ0eHRQcml2YXRlUGFydCIsInR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uIiwiYnRuUHJvdGVjdCIsInNwblByb3RlY3RlZENvbmZpcm1hdGlvbiIsInR4dFBhdGgiLCJ0eHRQdWJsaWNQYXJ0IiwiYnRuR2VuZXJhdGVQdWJsaWNQYXJ0IiwiYnRuQ2xlYXJQdWJsaWNQYXJ0IiwiYnRuQ29weVB1YmxpY1BhcnQiLCJzcG5Db3B5UHVibGljUGFydEZlZWRiYWNrIiwic3BuUHJpdmF0ZVBhcnRTaXplIiwic3BuUHJpdmF0ZVBhcnRTaXplQ29uZmlybWF0aW9uIiwibnVtT3V0cHV0U2l6ZVJhbmdlIiwibnVtT3V0cHV0U2l6ZU51bSIsInR4dEFscGhhYmV0Iiwic3BuQWxwaGFiZXRTaXplIiwiYnRuUmVzZXRBbHBoYWJldCIsInR4dFJlc3VsdFBhc3N3b3JkIiwic3BuUmVzdWx0UGFzc3dvcmRMZW5ndGgiLCJidG5Db3B5UmVzdWx0UGFzc3dvcmQiLCJzcG5Db3B5UmVzdWx0UGFzc3dvcmRGZWVkYmFjayIsInR4dFBhcmFtZXRlcnMiLCJ0eHRDdXN0b21LZXlzIiwiREVGQVVMVF9MRU5HVEgiLCJERUZBVUxUX0FMUEhBQkVUIiwiU1VDQ0VTU19DT0xPUiIsIkVSUk9SX0NPTE9SIiwiUkVTRVJWRURfS0VZUyIsImdldFByaXZhdGVQYXJ0IiwidW5kZWZpbmVkIiwicHJvdGVjdEFuZExvY2tQcml2YXRlUGFydCIsImRpc2FibGVkIiwidXBkYXRlUHJpdmF0ZVBhcnRzTWF0Y2hpbmciLCJ0b2dnbGVQcml2YXRlUGFydFByb3RlY3Rpb24iLCJtYXgiLCJ0b1N0cmluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9tcHQiLCJ1cGRhdGVQYXNzd29yZEdlbmVyYXRpb25QYXJhbWV0ZXJzIiwicmFuZG9tU3RyaW5nIiwicnVuIiwiY29weVJlc3VsdFBhc3N3b3JkVG9DbGlwYm9hcmRGZWVkYmFja09iamVjdCIsImNvcHlQdWJsaWNQYXJ0VG9DbGlwYm9hcmRGZWVkYmFja09iamVjdCIsInNldHVwQ29weUJ1dHRvbiIsInR4dCIsImJ1dHRvbiIsImZlZWRiYWNrIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwiZXJyb3IiLCJjb25zb2xlIiwic3RhY2siLCJ3cml0ZVRvQ2xpcGJvYXJkIiwic2V0VGV4dCIsInVwZGF0ZVJlc3VsdFBhc3N3b3JkTGVuZ3RoIiwicGFkU3RhcnQiLCJpc0FscGhhYmV0VmFsaWQiLCJzb3J0ZWRBbHBoYWJldCIsInNwbGl0Iiwic29ydCIsImNhblJ1biIsImNsZWFyT3V0cHV0cyIsImNoYWluSW5mbyIsInBhdGhUb09iamVjdENoYWluIiwicGF0aCIsInNlcGFyYXRvckluZGV4IiwiaW5kZXhPZiIsInRhaWwiLCJmaXJzdFBhdGgiLCJzdWJzdHIiLCJyZW1haW5pbmdQYXRoIiwibm9kZSIsImhlYWQiLCJ0YWlsUGFyZW50IiwibGVhZiIsInB1YmxpYyIsIm51bWVyaWNWYWx1ZSIsInBhcnNlSW50IiwiY3VzdG9tS2V5cyIsIm9iaiIsIkpTT04iLCJwYXJzZSIsImNvbnN0cnVjdG9yIiwicGFyc2VDdXN0b21LZXlzIiwic3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5IiwicmVzdWx0UGFyYW1ldGVycyIsInNvdXJjZSIsInRhcmdldCIsImVudHJpZXMiLCJpbmNsdWRlcyIsInNoYWxsb3dNZXJnZSIsImtleXMiLCJzdHJpbmdpZnkiLCJ1cGRhdGVPdXRwdXRTaXplUmFuZ2VUb051bSIsInVwZGF0ZUFscGhhYmV0U2l6ZSIsInVwZGF0ZUFscGhhYmV0VmFsaWRpdHlEaXNwbGF5IiwicHJpdmF0ZVBhcnRTdHJpbmciLCJwdWJsaWNQYXJ0U3RyaW5nIiwicHJpdmF0ZVByaXZhdGVCeXRlcyIsInB1YmxpY1BhcnRCeXRlcyIsImtleVN0cmluZyIsInByaXZhdGVQYXJ0IiwicHVibGljUGFydCIsImhrZGZQdXJwb3NlIiwiZGVyaXZlZEtleSIsImhrZGZLZXkiLCJzaWduIiwiaW5wdXQiLCJyZXNldEFscGhhYmV0IiwiaXNBbHBoYWJldFZhbGlkUmVzdWx0IiwiYnV0dG9uTmFtZSIsImJ0biIsInR5cGUiLCJzZXR1cFZpZXdCdXR0b24iLCJtaW4iLCJ2YWwiLCJNYXRoIiwidXBkYXRlT3V0cHV0U2l6ZU51bVRvUmFuZ2UiLCJwcm90ZWN0UHJpdmF0ZVBhcnRBY3Rpb24iLCJhY3Rpb24iLCJkZWxheSIsIm92ZXJyaWRlRGVsYXkiLCJyZXNldCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0ws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TUMsUUFDWS9GLElBQWpCeEMsS0FBS0ksU0FDTEMsYUFBYUwsS0FBS0ksU0FHdEIsTUFBTWtJLE9BQTBCOUYsSUFBbEIrRixFQUE4QkEsRUFBZ0J2SSxLQUFLc0ksTUFFakV0SSxLQUFLSSxRQUFVRSxXQUFXLEtBQ3RCTixLQUFLcUksU0FDTHJJLEtBQUtJLGFBQVVvQyxHQUNoQjhGLEtEc2JtRDdGLEVBMVlkLEtBcVpoRCxTQUFTRSxLQUNEL0IsRUFBMkJ0RSxRQUFVcUUsRUFBZXJFLE1BQ3BEc0UsRUFBMkJvRixNQUFNRSxZQUFZLGFBQWM5RCxHQUUzRHhCLEVBQTJCb0YsTUFBTUUsWUFBWSxhQUFjN0QsR0FibkUxQixFQUFlb0MsaUJBQWlCLFFBQVMsS0FDckNsQyxFQUFXNkIsU0FBMkMsSUFBaEMvQixFQUFlckUsTUFBTXlCLE9BRTNDc0QsRUFBbUJsQixVQUFZUSxFQUFlckUsTUFBTXlCLE9BQU8rRSxXQUMzREgsS0FDQVEsSUFDQWlGLEdBQXlCSSxVQVc3QjVILEVBQTJCbUMsaUJBQWlCLFFBQVMsS0FDakR6QixFQUErQm5CLFVBQVlTLEVBQTJCdEUsTUFBTXlCLE9BQU8rRSxXQUNuRkgsT0FHSjVCLEVBQVFnQyxpQkFBaUIsUUFBUyxLQUM5QkUsTUFHSmpDLEVBQWMrQixpQkFBaUIsUUFBUyxLQUNwQ0UsSUFDQUUsTUFHSmxCLEVBQWNjLGlCQUFpQixRQUFTLEtBQ3BDRSxNQUdKMEQsSUFDQWUsS0FDQS9FIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBmdW5jdGlvbiB0cnVuY2F0ZShpbnB1dDogc3RyaW5nLCBsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKGlucHV0Lmxlbmd0aCA8PSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBpbnB1dC5zdWJzdHIoMCwgbGVuZ3RoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyOiBzdHJpbmcpOiBBcnJheUJ1ZmZlciB7XG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigvKid1dGYtOCcqLyk7XG4gICAgcmV0dXJuIGVuY29kZXIuZW5jb2RlKHN0cikuYnVmZmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUJhc2UxNihzdHI6IHN0cmluZyk6IEFycmF5QnVmZmVyIHtcbiAgICBpZiAoc3RyLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgc3RyID0gJzAnICsgc3RyO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdDogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KHN0ci5sZW5ndGggLyAyKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LmJ5dGVMZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICByZXN1bHRbaV0gPSBwYXJzZUludChzdHIuc3Vic3RyKGkgKiAyLCAyKSwgMTYpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQuYnVmZmVyO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGNvcHkoc291cmNlOiBVaW50OEFycmF5LCBzb3VyY2VJbmRleDogbnVtYmVyLCB0YXJnZXQ6IFVpbnQ4QXJyYXksIHRhcmdldEluZGV4OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHRhcmdldFtpICsgdGFyZ2V0SW5kZXhdID0gc291cmNlW2kgKyBzb3VyY2VJbmRleF07XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb1Vuc2lnbmVkQmlnSW50KGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlcik6IGJpZ2ludCB7XG4gICAgY29uc3QgbGVuZ3RoOiBudW1iZXIgPSBhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgIGNvbnN0IGFycmF5VmlldzogRGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoYXJyYXlCdWZmZXIsIDApO1xuXG4gICAgbGV0IHJlc3VsdDogYmlnaW50ID0gMG47XG5cbiAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgcmVzdWx0ICs9IEJpZ0ludChhcnJheVZpZXcuZ2V0VWludDgoaSkpICogKDI1Nm4gKiogQmlnSW50KGkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9DdXN0b21CYXNlKGJ5dGVzOiBBcnJheUJ1ZmZlciwgYWxwaGFiZXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgYWxwaGFiZXRMZW5ndGg6IGJpZ2ludCA9IEJpZ0ludChhbHBoYWJldC5sZW5ndGgpO1xuXG4gICAgbGV0IHJlc3VsdDogc3RyaW5nID0gJyc7XG4gICAgbGV0IG51bWJlcjogYmlnaW50ID0gYXJyYXlCdWZmZXJUb1Vuc2lnbmVkQmlnSW50KGJ5dGVzKTtcblxuICAgIHdoaWxlIChudW1iZXIgPiAwbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbWFpbmRlcjogYmlnaW50ID0gbnVtYmVyICUgYWxwaGFiZXRMZW5ndGg7XG4gICAgICAgIG51bWJlciAvPSBhbHBoYWJldExlbmd0aDtcblxuICAgICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gPG51bWJlcj48YW55PkJpZ0ludC5hc1VpbnROKDY0LCByZW1haW5kZXIpO1xuXG4gICAgICAgIHJlc3VsdCArPSBhbHBoYWJldFtpbmRleF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQmFzZTE2KGJ1ZmZlcjogQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoXG4gICAgICAgIG5ldyBVaW50OEFycmF5KGJ1ZmZlciksXG4gICAgICAgIHggPT4gKCcwMCcgKyB4LnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpXG4gICAgKS5qb2luKCcnKTtcbn1cbiIsImltcG9ydCAqIGFzIHN0cmluZ1V0aWxzIGZyb20gJy4vc3RyaW5nVXRpbHMnO1xuaW1wb3J0ICogYXMgYXJyYXlVdGlscyBmcm9tICcuL2FycmF5VXRpbHMnO1xuXG5leHBvcnQgY29uc3QgQkFTRTYyX0FMUEhBQkVUOiBzdHJpbmcgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODknO1xuXG5jb25zdCBlbmNyeXB0aW9uS2V5RGVyaXZhdGlvblNhbHQ6IEFycmF5QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoWyAweGYyLCAweGNmLCAweGVmLCAweDhlLCAweDEzLCAweDQwLCAweDQ2LCAweDQ5LCAweDkyLCAweDJhLCAweGRlLCAweDVjLCAweGJjLCAweDg4LCAweDM4LCAweGE4IF0pLmJ1ZmZlcjtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0RGVyaXZlZEJ5dGVzKHBhc3N3b3JkOiBBcnJheUJ1ZmZlciwgc2FsdDogQXJyYXlCdWZmZXIpOiBQcm9taXNlPEFycmF5QnVmZmVyPiB7XG4gICAgY29uc3QgYmFzZUtleTogQ3J5cHRvS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgICdyYXcnLFxuICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgJ1BCS0RGMicsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBbJ2Rlcml2ZUtleSddXG4gICAgKTtcblxuICAgIGNvbnN0IGFsZ29yaXRobTogUGJrZGYyUGFyYW1zID0ge1xuICAgICAgICBuYW1lOiAnUEJLREYyJyxcbiAgICAgICAgaGFzaDogJ1NIQS01MTInLFxuICAgICAgICBpdGVyYXRpb25zOiAxMDAwMDAsXG4gICAgICAgIHNhbHRcbiAgICB9O1xuXG4gICAgY29uc3QgZGVyaXZlZEtleVR5cGU6IEFlc0Rlcml2ZWRLZXlQYXJhbXMgPSB7XG4gICAgICAgIG5hbWU6ICdBRVMtQ0JDJyxcbiAgICAgICAgbGVuZ3RoOiAyNTZcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0OiBDcnlwdG9LZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRlcml2ZUtleShcbiAgICAgICAgYWxnb3JpdGhtLFxuICAgICAgICBiYXNlS2V5LFxuICAgICAgICBkZXJpdmVkS2V5VHlwZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgWydlbmNyeXB0J11cbiAgICApO1xuXG4gICAgY29uc3Qga2V5OiBBcnJheUJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCdyYXcnLCByZXN1bHQpO1xuXG4gICAgcmV0dXJuIGtleTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUGFzc3dvcmQocHJpdmF0ZVBhcnQ6IEFycmF5QnVmZmVyLCBwdWJsaWNQYXJ0OiBBcnJheUJ1ZmZlciwgaGtkZlB1cnBvc2U6IHN0cmluZyk6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICBjb25zdCBkZXJpdmVkS2V5OiBBcnJheUJ1ZmZlciA9IGF3YWl0IGdldERlcml2ZWRCeXRlcyhwcml2YXRlUGFydCwgcHVibGljUGFydCk7XG5cbiAgICBjb25zdCBobWFjUGFyYW1ldGVyczogSG1hY0ltcG9ydFBhcmFtcyA9IHtcbiAgICAgICAgbmFtZTogJ0hNQUMnLFxuICAgICAgICBoYXNoOiB7IG5hbWU6ICdTSEEtNTEyJyB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhrZGZLZXk6IENyeXB0b0tleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxuICAgICAgICAncmF3JyxcbiAgICAgICAgZGVyaXZlZEtleSxcbiAgICAgICAgaG1hY1BhcmFtZXRlcnMsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBbJ3NpZ24nXVxuICAgICk7XG5cbiAgICByZXR1cm4gYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKCdITUFDJywgaGtkZktleSwgc3RyaW5nVXRpbHMuc3RyaW5nVG9BcnJheShoa2RmUHVycG9zZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21CeXRlcyhieXRlQ291bnQ6IG51bWJlciA9IDY0KTogQXJyYXlCdWZmZXIge1xuICAgIGNvbnN0IGFycmF5OiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZUNvdW50KTtcbiAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcnJheSkuYnVmZmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSYW5kb21TdHJpbmcoYnl0ZUNvdW50OiBudW1iZXIgPSA2NCwgYWxwaGFiZXQ6IHN0cmluZyA9IEJBU0U2Ml9BTFBIQUJFVCk6IHN0cmluZyB7XG4gICAgY29uc3QgYXJyYXk6IEFycmF5QnVmZmVyID0gZ2VuZXJhdGVSYW5kb21CeXRlcyhieXRlQ291bnQpO1xuICAgIHJldHVybiBhcnJheVV0aWxzLnRvQ3VzdG9tQmFzZShhcnJheSwgYWxwaGFiZXQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5jcnlwdChpbnB1dDogQXJyYXlCdWZmZXIsIHBhc3N3b3JkOiBBcnJheUJ1ZmZlcik6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcbiAgICBjb25zdCBvdXRwdXQ6IEFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDEyICsgMTYgKyBpbnB1dC5ieXRlTGVuZ3RoKTtcblxuICAgIGNvbnN0IG5vbmNlOiBEYXRhVmlldyA9IG5ldyBEYXRhVmlldyhvdXRwdXQsIDAsIDEyKTtcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KG91dHB1dCwgMCwgMTIpKTtcblxuICAgIGNvbnN0IGFlc0djbVBhcmFtczogQWVzR2NtUGFyYW1zID0ge1xuICAgICAgICBuYW1lOiAnQUVTLUdDTScsXG4gICAgICAgIGl2OiBub25jZVxuICAgIH07XG5cbiAgICBjb25zdCBhZXNLZXlBbGdvcml0aG06IEFlc0tleUFsZ29yaXRobSA9IHtcbiAgICAgICAgbmFtZTogJ0FFUy1HQ00nLFxuICAgICAgICBsZW5ndGg6IDI1NlxuICAgIH07XG5cbiAgICBjb25zdCBwYXNzd29yZEtleTogQ3J5cHRvS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gICAgICAgICdyYXcnLFxuICAgICAgICBhd2FpdCBnZXREZXJpdmVkQnl0ZXMocGFzc3dvcmQsIGVuY3J5cHRpb25LZXlEZXJpdmF0aW9uU2FsdCksXG4gICAgICAgIGFlc0tleUFsZ29yaXRobSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFsnZW5jcnlwdCddXG4gICAgKTtcblxuICAgIGNvbnN0IHJlc3VsdDogQXJyYXlCdWZmZXIgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmVuY3J5cHQoYWVzR2NtUGFyYW1zLCBwYXNzd29yZEtleSwgaW5wdXQpO1xuXG4gICAgbmV3IFVpbnQ4QXJyYXkob3V0cHV0KS5zZXQobmV3IFVpbnQ4QXJyYXkocmVzdWx0KSwgMTIpO1xuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY3J5cHQoaW5wdXQ6IEFycmF5QnVmZmVyLCBwYXNzd29yZDogQXJyYXlCdWZmZXIpOiBQcm9taXNlPEFycmF5QnVmZmVyPiB7XG4gICAgY29uc3Qgbm9uY2U6IERhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGlucHV0LCAwLCAxMik7XG4gICAgY29uc3QgcGF5bG9hZDogRGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcoaW5wdXQsIDEyKTtcblxuICAgIGNvbnN0IGFlc0djbVBhcmFtczogQWVzR2NtUGFyYW1zID0ge1xuICAgICAgICBuYW1lOiAnQUVTLUdDTScsXG4gICAgICAgIGl2OiBub25jZVxuICAgIH07XG5cbiAgICBjb25zdCBhZXNLZXlBbGdvcml0aG06IEFlc0tleUFsZ29yaXRobSA9IHtcbiAgICAgICAgbmFtZTogJ0FFUy1HQ00nLFxuICAgICAgICBsZW5ndGg6IDI1NlxuICAgIH07XG5cbiAgICBjb25zdCBkZXJpdmVkS2V5OiBBcnJheUJ1ZmZlciA9IGF3YWl0IGdldERlcml2ZWRCeXRlcyhwYXNzd29yZCwgZW5jcnlwdGlvbktleURlcml2YXRpb25TYWx0KTtcblxuICAgIGNvbnN0IHBhc3N3b3JkS2V5OiBDcnlwdG9LZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICAgICAgJ3JhdycsXG4gICAgICAgIGRlcml2ZWRLZXksXG4gICAgICAgIGFlc0tleUFsZ29yaXRobSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFsnZGVjcnlwdCddXG4gICAgKTtcblxuICAgIHJldHVybiBhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoYWVzR2NtUGFyYW1zLCBwYXNzd29yZEtleSwgcGF5bG9hZCk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaXN1YWxGZWVkYmFjayB7XG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIHRpbWVvdXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUZXh0KHRleHQ6IHN0cmluZywgZHVyYXRpb246IG51bWJlcikge1xuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gJycsIGR1cmF0aW9uKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgKiBhcyBjcnlwdG8gZnJvbSAnLi9jcnlwdG8nO1xuaW1wb3J0ICogYXMgc3RyaW5nVXRpbHMgZnJvbSAnLi9zdHJpbmdVdGlscyc7XG5pbXBvcnQgKiBhcyBhcnJheVV0aWxzIGZyb20gJy4vYXJyYXlVdGlscyc7XG5cbmltcG9ydCBWaXN1YWxGZWVkYmFjayBmcm9tICcuL1Zpc3VhbEZlZWRiYWNrJztcbmltcG9ydCBUaW1lZEFjdGlvbiBmcm9tICcuL1RpbWVkQWN0aW9uJztcbmltcG9ydCB7IFBsYWluT2JqZWN0IH0gZnJvbSAnLi9QbGFpbk9iamVjdCc7XG5cbmltcG9ydCB7IElTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlcy9JU3RvcmFnZSc7XG5pbXBvcnQgeyBHaXRIdWJTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlcy9HaXRIdWJTdG9yYWdlJztcblxuZnVuY3Rpb24gZ2V0RWxlbWVudEJ5SWQoZWxlbWVudE5hbWU6IHN0cmluZyk6IEhUTUxJbnB1dEVsZW1lbnQge1xuICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50fG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50TmFtZSk7XG5cbiAgICBpZiAoZWxlbWVudE5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBET00gZWxlbWVudCAnJHtlbGVtZW50TmFtZX0nIG5vdCBmb3VuZC5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50O1xufVxuXG5jb25zdCB0eHRQcml2YXRlUGFydDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRQcml2YXRlUGFydCcpO1xuY29uc3QgdHh0UHJpdmF0ZVBhcnRDb25maXJtYXRpb246IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgndHh0UHJpdmF0ZVBhcnRDb25maXJtYXRpb24nKTtcbmNvbnN0IGJ0blByb3RlY3Q6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnYnRuUHJvdGVjdCcpO1xuY29uc3Qgc3BuUHJvdGVjdGVkQ29uZmlybWF0aW9uOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwblByb3RlY3RlZENvbmZpcm1hdGlvbicpO1xuY29uc3QgdHh0UGF0aDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRQYXRoJyk7XG5jb25zdCB0eHRQdWJsaWNQYXJ0OiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3R4dFB1YmxpY1BhcnQnKTtcbmNvbnN0IGJ0bkdlbmVyYXRlUHVibGljUGFydDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5HZW5lcmF0ZVB1YmxpY1BhcnQnKTtcbmNvbnN0IGJ0bkNsZWFyUHVibGljUGFydDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5DbGVhclB1YmxpY1BhcnQnKTtcbmNvbnN0IGJ0bkNvcHlQdWJsaWNQYXJ0OiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ2J0bkNvcHlQdWJsaWNQYXJ0Jyk7XG5jb25zdCBzcG5Db3B5UHVibGljUGFydEZlZWRiYWNrOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwbkNvcHlQdWJsaWNQYXJ0RmVlZGJhY2snKTtcblxuY29uc3Qgc3BuUHJpdmF0ZVBhcnRTaXplOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwblByaXZhdGVQYXJ0U2l6ZScpO1xuY29uc3Qgc3BuUHJpdmF0ZVBhcnRTaXplQ29uZmlybWF0aW9uOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwblByaXZhdGVQYXJ0U2l6ZUNvbmZpcm1hdGlvbicpO1xuXG5jb25zdCBudW1PdXRwdXRTaXplUmFuZ2U6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnbnVtT3V0cHV0U2l6ZVJhbmdlJyk7XG5jb25zdCBudW1PdXRwdXRTaXplTnVtOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ251bU91dHB1dFNpemVOdW0nKTtcblxuY29uc3QgdHh0QWxwaGFiZXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgndHh0QWxwaGFiZXQnKTtcbmNvbnN0IHNwbkFscGhhYmV0U2l6ZTogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdzcG5BbHBoYWJldFNpemUnKTtcbmNvbnN0IGJ0blJlc2V0QWxwaGFiZXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnYnRuUmVzZXRBbHBoYWJldCcpO1xuXG5jb25zdCB0eHRSZXN1bHRQYXNzd29yZDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRSZXN1bHRQYXNzd29yZCcpO1xuY29uc3Qgc3BuUmVzdWx0UGFzc3dvcmRMZW5ndGg6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgnc3BuUmVzdWx0UGFzc3dvcmRMZW5ndGgnKTtcbmNvbnN0IGJ0bkNvcHlSZXN1bHRQYXNzd29yZDogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCdidG5Db3B5UmVzdWx0UGFzc3dvcmQnKTtcbmNvbnN0IHNwbkNvcHlSZXN1bHRQYXNzd29yZEZlZWRiYWNrOiBIVE1MSW5wdXRFbGVtZW50ID0gZ2V0RWxlbWVudEJ5SWQoJ3NwbkNvcHlSZXN1bHRQYXNzd29yZEZlZWRiYWNrJyk7XG5cbmNvbnN0IHR4dFBhcmFtZXRlcnM6IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZCgndHh0UGFyYW1ldGVycycpO1xuY29uc3QgdHh0Q3VzdG9tS2V5czogSFRNTElucHV0RWxlbWVudCA9IGdldEVsZW1lbnRCeUlkKCd0eHRDdXN0b21LZXlzJyk7XG5cbmNvbnN0IERFRkFVTFRfTEVOR1RIOiBudW1iZXIgPSA2NDtcblxuLy8gQWxwaGFiZXQgdjEgaXMgc2NyZXdlZCwgdGhlIGNoYXJhY3RlciB7IGFwcGVhcnMgdHdpY2UgYW5kIH0gaXMgbWlzc2luZy5cbmNvbnN0IERFRkFVTFRfQUxQSEFCRVRfVjE6IHN0cmluZyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OWB+IUAjJCVeJiooKV8tPStbe117fDs6XFwnXCIsPC4+Lz8nO1xuLy8gQWxwaGFiZXQgdjIgaXMgY29ycmVjdCBhbmQgaW4gQVNDSUkgb3JkZXIuXG5jb25zdCBERUZBVUxUX0FMUEhBQkVUX1YyOiBzdHJpbmcgPSAnIVwiIyQlJlxcJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+JztcblxuY29uc3QgREVGQVVMVF9BTFBIQUJFVDogc3RyaW5nID0gREVGQVVMVF9BTFBIQUJFVF9WMjtcblxuY29uc3QgUFJJVkFURV9QQVJUX1BST1RFQ1RJT05fVElNRU9VVDogbnVtYmVyID0gNjAgKiAxMDAwO1xuXG5jb25zdCBTVUNDRVNTX0NPTE9SOiBzdHJpbmcgPSAnI0QwRkZEMCc7XG5jb25zdCBFUlJPUl9DT0xPUjogc3RyaW5nID0gJyNGRkQwRDAnO1xuXG5jb25zdCBSRVNFUlZFRF9LRVlTOiBzdHJpbmdbXSA9IFsnYWxwaGFiZXQnLCAnbGVuZ3RoJywgJ3B1YmxpYyddO1xuXG4vLyBkYWZ1cSE/XG5udW1PdXRwdXRTaXplUmFuZ2UubWF4ID0gREVGQVVMVF9MRU5HVEgudG9TdHJpbmcoKTtcbm51bU91dHB1dFNpemVSYW5nZS52YWx1ZSA9IERFRkFVTFRfTEVOR1RILnRvU3RyaW5nKCk7XG5cbmxldCBwcml2YXRlUGFydDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG5idG5DbGVhclB1YmxpY1BhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHR4dFB1YmxpY1BhcnQudmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAocHJvbXB0KCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgdGhlIHB1YmxpYyBwYXJ0ID9cXG5UeXBlIFxcJ3lcXCcgdG8gYWNjZXB0JywgJycpICE9PSAneScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHR4dFB1YmxpY1BhcnQudmFsdWUgPSAnJztcblxuICAgIHVwZGF0ZVBhc3N3b3JkR2VuZXJhdGlvblBhcmFtZXRlcnMoKTtcbn0pO1xuXG5idG5HZW5lcmF0ZVB1YmxpY1BhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKHR4dFB1YmxpY1BhcnQudmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAocHJvbXB0KCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZ2VuZXJhdGUgYSBuZXcgcHVibGljIHBhcnQgP1xcblR5cGUgXFwneVxcJyB0byBhY2NlcHQnLCAnJykgIT09ICd5Jykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmFuZG9tU3RyaW5nOiBzdHJpbmcgPSBjcnlwdG8uZ2VuZXJhdGVSYW5kb21TdHJpbmcoKTtcbiAgICB0eHRQdWJsaWNQYXJ0LnZhbHVlID0gcmFuZG9tU3RyaW5nO1xuICAgIHJ1bigpO1xufSk7XG5cbmZ1bmN0aW9uIGdldFByaXZhdGVQYXJ0KCk6IHN0cmluZyB7XG4gICAgaWYgKHByaXZhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHByaXZhdGVQYXJ0O1xuICAgIH1cbiAgICByZXR1cm4gdHh0UHJpdmF0ZVBhcnQudmFsdWU7XG59XG5cbmZ1bmN0aW9uIHByb3RlY3RBbmRMb2NrUHJpdmF0ZVBhcnQoKTogdm9pZCB7XG4gICAgaWYgKHR4dFByaXZhdGVQYXJ0LnZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHJpdmF0ZVBhcnQgPSB0eHRQcml2YXRlUGFydC52YWx1ZTtcbiAgICBzcG5Qcm90ZWN0ZWRDb25maXJtYXRpb24uaW5uZXJIVE1MID0gJ1Byb3RlY3RlZCc7XG5cbiAgICB0eHRQcml2YXRlUGFydC52YWx1ZSA9ICcnO1xuICAgIHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLnZhbHVlID0gJyc7XG4gICAgc3BuUHJpdmF0ZVBhcnRTaXplLmlubmVySFRNTCA9ICcwJztcbiAgICBzcG5Qcml2YXRlUGFydFNpemVDb25maXJtYXRpb24uaW5uZXJIVE1MID0gJzAnO1xuXG4gICAgdHh0UHJpdmF0ZVBhcnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgIGJ0blByb3RlY3QuaW5uZXJIVE1MID0gJ0NsZWFyIGFuZCB1bmxvY2snO1xuXG4gICAgdXBkYXRlUHJpdmF0ZVBhcnRzTWF0Y2hpbmcoKTtcbn1cblxuZnVuY3Rpb24gY2xlYXJBbmRVbkxvY2tQcml2YXRlUGFydCgpOiB2b2lkIHtcbiAgICBwcml2YXRlUGFydCA9IHVuZGVmaW5lZDtcbiAgICBzcG5Qcm90ZWN0ZWRDb25maXJtYXRpb24uaW5uZXJIVE1MID0gJyc7XG5cbiAgICB0eHRQcml2YXRlUGFydC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICBidG5Qcm90ZWN0LmlubmVySFRNTCA9ICdQcm90ZWN0IGFuZCBsb2NrJztcbn1cblxuZnVuY3Rpb24gdG9nZ2xlUHJpdmF0ZVBhcnRQcm90ZWN0aW9uKCk6IHZvaWQge1xuICAgIGlmIChwcml2YXRlUGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb3RlY3RBbmRMb2NrUHJpdmF0ZVBhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhckFuZFVuTG9ja1ByaXZhdGVQYXJ0KCk7XG4gICAgfVxufVxuXG5idG5Qcm90ZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHRvZ2dsZVByaXZhdGVQYXJ0UHJvdGVjdGlvbigpO1xufSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZUN1c3RvbUtleXNEaXNwbGF5KGlzVmFsaWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICB0eHRDdXN0b21LZXlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KCdiYWNrZ3JvdW5kJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0eHRDdXN0b21LZXlzLnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kJywgRVJST1JfQ09MT1IpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUN1c3RvbUtleXMoKTogUGxhaW5PYmplY3QgfCBudWxsIHtcbiAgICBpZiAodHh0Q3VzdG9tS2V5cy52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9iajogYW55ID0gSlNPTi5wYXJzZSh0eHRDdXN0b21LZXlzLnZhbHVlKTtcbiAgICAgICAgaWYgKG9iaiA9PT0gbnVsbCB8fCBvYmouY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmogYXMgUGxhaW5PYmplY3Q7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hhbGxvd01lcmdlKHNvdXJjZTogUGxhaW5PYmplY3QgfCBudWxsLCB0YXJnZXQ6IFBsYWluT2JqZWN0IHwgbnVsbCk6IFBsYWluT2JqZWN0IHtcbiAgICBjb25zdCByZXN1bHQ6IFBsYWluT2JqZWN0ID0ge307XG5cbiAgICBpZiAoc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGlmIChSRVNFUlZFRF9LRVlTLmluY2x1ZGVzKGtleSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0YXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGFyZ2V0KSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZShzb3VyY2U6IFBsYWluT2JqZWN0LCB0YXJnZXQ6IFBsYWluT2JqZWN0KTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBzb3VyY2VLZXkgb2YgT2JqZWN0LmtleXMoc291cmNlKSkge1xuICAgICAgICBjb25zdCB0YXJnZXRWYWx1ZTogYW55ID0gdGFyZ2V0W3NvdXJjZUtleV07XG4gICAgICAgIGNvbnN0IHNvdXJjZVZhbHVlOiBhbnkgPSBzb3VyY2Vbc291cmNlS2V5XTtcblxuICAgICAgICBpZiAodGFyZ2V0VmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHRhcmdldFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgIT09ICdPYmplY3QnIHx8XG4gICAgICAgICAgICBzb3VyY2VWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZUtleV0gPSBzb3VyY2VWYWx1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVlcE1lcmdlKHNvdXJjZVZhbHVlLCB0YXJnZXRWYWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXR1cFZpZXdCdXR0b24odHh0OiBIVE1MSW5wdXRFbGVtZW50LCBidXR0b25OYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBidG46IEhUTUxJbnB1dEVsZW1lbnQgPSBnZXRFbGVtZW50QnlJZChidXR0b25OYW1lKTtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmICh0eHQudHlwZSA9PT0gJ3Bhc3N3b3JkJykge1xuICAgICAgICAgICAgdHh0LnR5cGUgPSAnaW5wdXQnO1xuICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9ICdIaWRlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHR4dC50eXBlID0gJ3Bhc3N3b3JkJztcbiAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSAnVmlldyc7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgY29weVJlc3VsdFBhc3N3b3JkVG9DbGlwYm9hcmRGZWVkYmFja09iamVjdDogVmlzdWFsRmVlZGJhY2sgPSBuZXcgVmlzdWFsRmVlZGJhY2soc3BuQ29weVJlc3VsdFBhc3N3b3JkRmVlZGJhY2spO1xuY29uc3QgY29weVB1YmxpY1BhcnRUb0NsaXBib2FyZEZlZWRiYWNrT2JqZWN0OiBWaXN1YWxGZWVkYmFjayA9IG5ldyBWaXN1YWxGZWVkYmFjayhzcG5Db3B5UHVibGljUGFydEZlZWRiYWNrKTtcblxuYXN5bmMgZnVuY3Rpb24gd3JpdGVUb0NsaXBib2FyZCh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayB8fCBlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldHVwQ29weUJ1dHRvbih0eHQ6IEhUTUxJbnB1dEVsZW1lbnQsIGJ1dHRvbjogSFRNTElucHV0RWxlbWVudCwgZmVlZGJhY2s6IFZpc3VhbEZlZWRiYWNrKTogdm9pZCB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoYXdhaXQgd3JpdGVUb0NsaXBib2FyZCh0eHQudmFsdWUpKSB7XG4gICAgICAgICAgICBmZWVkYmFjay5zZXRUZXh0KCdDb3BpZWQnLCAzMDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZlZWRiYWNrLnNldFRleHQoJzxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZFwiPkZhaWxlZCB0byBjb3B5PC9zcGFuPicsIDMwMDApO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVJlc3VsdFBhc3N3b3JkTGVuZ3RoKCkge1xuICAgIHNwblJlc3VsdFBhc3N3b3JkTGVuZ3RoLmlubmVySFRNTCA9IHR4dFJlc3VsdFBhc3N3b3JkLnZhbHVlLmxlbmd0aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcgJyk7XG59XG5cbnNldHVwVmlld0J1dHRvbih0eHRSZXN1bHRQYXNzd29yZCwgJ2J0blZpZXdSZXN1bHRQYXNzd29yZCcpO1xuXG5zZXR1cENvcHlCdXR0b24odHh0UHVibGljUGFydCwgYnRuQ29weVB1YmxpY1BhcnQsIGNvcHlQdWJsaWNQYXJ0VG9DbGlwYm9hcmRGZWVkYmFja09iamVjdCk7XG5zZXR1cENvcHlCdXR0b24odHh0UmVzdWx0UGFzc3dvcmQsIGJ0bkNvcHlSZXN1bHRQYXNzd29yZCwgY29weVJlc3VsdFBhc3N3b3JkVG9DbGlwYm9hcmRGZWVkYmFja09iamVjdCk7XG5cbmZ1bmN0aW9uIGlzQWxwaGFiZXRWYWxpZChhbHBoYWJldDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc29ydGVkQWxwaGFiZXQ6IHN0cmluZ1tdID0gYWxwaGFiZXQuc3BsaXQoJycpO1xuICAgIHNvcnRlZEFscGhhYmV0LnNvcnQoKTtcblxuICAgIGZvciAobGV0IGk6IG51bWJlciA9IDE7IGkgPCBzb3J0ZWRBbHBoYWJldC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoc29ydGVkQWxwaGFiZXRbaSAtIDFdID09PSBzb3J0ZWRBbHBoYWJldFtpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbnR5cGUgSUNoYWluSW5mbyA9IHtcbiAgICBoZWFkOiBQbGFpbk9iamVjdCxcbiAgICB0YWlsUGFyZW50OiBQbGFpbk9iamVjdCxcbiAgICB0YWlsOiBQbGFpbk9iamVjdFxufTtcblxuLy8gVHJhbnNmb3JtcyBhIHBhdGggbGlrZSBcImEvYi9jL2RcIiBpbnRvIGEgaGllcmFyY2h5IG9mIG9iamVjdHMgbGlrZSB7IFwiYVwiOiB7IFwiYlwiOiB7IFwiY1wiOiB7IFwiZFwiOiB7fSB9IH0gfSB9XG4vLyBGcm9tIHRoZSByZXN1bHQgb2JqZWN0LCBoZWFkIGlzIHRoZSByb290IG9iamVjdCB0aGF0IGNvbnRhaW5zIFwiYVwiLCB0YWlsIGlzIHRoZSB2YWx1ZSBvZiBcImRcIiwgYW5kIHRhaWxQYXJlbnQgaXMgdGhlIHZhbHVlIG9mIFwiY1wiXG5mdW5jdGlvbiBwYXRoVG9PYmplY3RDaGFpbihwYXRoOiBzdHJpbmcsIGNoYWluSW5mbzogSUNoYWluSW5mbyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IElDaGFpbkluZm8ge1xuICAgIGNvbnN0IHNlcGFyYXRvckluZGV4OiBudW1iZXIgPSBwYXRoLmluZGV4T2YoJy8nKTtcblxuICAgIGNvbnN0IHRhaWw6IFBsYWluT2JqZWN0ID0ge307XG5cbiAgICBjb25zdCBmaXJzdFBhdGg6IHN0cmluZyA9IHNlcGFyYXRvckluZGV4ID49IDAgPyBwYXRoLnN1YnN0cigwLCBzZXBhcmF0b3JJbmRleCkgOiBwYXRoO1xuICAgIGNvbnN0IHJlbWFpbmluZ1BhdGg6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHNlcGFyYXRvckluZGV4ID49IDAgPyBwYXRoLnN1YnN0cihzZXBhcmF0b3JJbmRleCArIDEpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGNoYWluSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IG5vZGU6IFBsYWluT2JqZWN0ID0ge307XG4gICAgICAgIG5vZGVbZmlyc3RQYXRoXSA9IHRhaWw7XG4gICAgICAgIGNoYWluSW5mbyA9IHtcbiAgICAgICAgICAgIGhlYWQ6IG5vZGUsXG4gICAgICAgICAgICB0YWlsUGFyZW50OiBub2RlLFxuICAgICAgICAgICAgdGFpbFxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYWluSW5mby50YWlsW2ZpcnN0UGF0aF0gPSB0YWlsO1xuICAgICAgICBjaGFpbkluZm8udGFpbFBhcmVudCA9IGNoYWluSW5mby50YWlsO1xuICAgICAgICBjaGFpbkluZm8udGFpbCA9IHRhaWw7XG4gICAgfVxuXG4gICAgaWYgKHJlbWFpbmluZ1BhdGgpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhUb09iamVjdENoYWluKHJlbWFpbmluZ1BhdGgsIGNoYWluSW5mbyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYWluSW5mbztcbn1cblxuZnVuY3Rpb24gdXBkYXRlUGFzc3dvcmRHZW5lcmF0aW9uUGFyYW1ldGVycygpOiB2b2lkIHtcbiAgICBpZiAoY2FuUnVuKCkgPT09IGZhbHNlKSB7XG4gICAgICAgIGNsZWFyT3V0cHV0cygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2hhaW5JbmZvOiBJQ2hhaW5JbmZvID0gcGF0aFRvT2JqZWN0Q2hhaW4odHh0UGF0aC52YWx1ZSk7XG4gICAgY29uc3QgbGVhZjogUGxhaW5PYmplY3QgPSBjaGFpbkluZm8udGFpbDtcblxuICAgIGxlYWYucHVibGljID0gdHh0UHVibGljUGFydC52YWx1ZTtcblxuICAgIGNvbnN0IG51bWVyaWNWYWx1ZTogbnVtYmVyID0gcGFyc2VJbnQobnVtT3V0cHV0U2l6ZU51bS52YWx1ZSwgMTApO1xuICAgIGlmIChudW1lcmljVmFsdWUgIT09IERFRkFVTFRfTEVOR1RIKSB7XG4gICAgICAgIGxlYWYubGVuZ3RoID0gbnVtZXJpY1ZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IGFscGhhYmV0OiBzdHJpbmcgPSB0eHRBbHBoYWJldC52YWx1ZTtcbiAgICBpZiAoYWxwaGFiZXQgIT09IERFRkFVTFRfQUxQSEFCRVQpIHtcbiAgICAgICAgbGVhZi5hbHBoYWJldCA9IGFscGhhYmV0O1xuICAgIH1cblxuICAgIGNvbnN0IGN1c3RvbUtleXM6IFBsYWluT2JqZWN0IHwgbnVsbCA9IHBhcnNlQ3VzdG9tS2V5cygpO1xuICAgIHVwZGF0ZUN1c3RvbUtleXNEaXNwbGF5KGN1c3RvbUtleXMgIT09IG51bGwpO1xuICAgIGNvbnN0IHJlc3VsdFBhcmFtZXRlcnM6IFBsYWluT2JqZWN0ID0gc2hhbGxvd01lcmdlKGN1c3RvbUtleXMsIGxlYWYpO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKHJlc3VsdFBhcmFtZXRlcnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBTZXQgdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCAoc2luZ2xlKSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IHRvIG51bGwuXG4gICAgICAgIGNoYWluSW5mby50YWlsUGFyZW50W09iamVjdC5rZXlzKGNoYWluSW5mby50YWlsUGFyZW50KVswXV0gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYWluSW5mby50YWlsUGFyZW50W09iamVjdC5rZXlzKGNoYWluSW5mby50YWlsUGFyZW50KVswXV0gPSByZXN1bHRQYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIHR4dFBhcmFtZXRlcnMudmFsdWUgPSBKU09OLnN0cmluZ2lmeShjaGFpbkluZm8uaGVhZCwgdW5kZWZpbmVkLCA0KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlT3V0cHV0U2l6ZVJhbmdlVG9OdW0oKTogdm9pZCB7XG4gICAgbnVtT3V0cHV0U2l6ZU51bS52YWx1ZSA9IG51bU91dHB1dFNpemVSYW5nZS52YWx1ZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlT3V0cHV0U2l6ZU51bVRvUmFuZ2UoKTogdm9pZCB7XG4gICAgY29uc3QgbWluOiBudW1iZXIgPSBwYXJzZUludChudW1PdXRwdXRTaXplUmFuZ2UubWluLCAxMCk7XG4gICAgY29uc3QgdmFsOiBudW1iZXIgPSBwYXJzZUludChudW1PdXRwdXRTaXplTnVtLnZhbHVlLCAxMCk7XG4gICAgY29uc3QgbWF4OiBudW1iZXIgPSBwYXJzZUludChudW1PdXRwdXRTaXplUmFuZ2UubWF4LCAxMCk7XG4gICAgbnVtT3V0cHV0U2l6ZVJhbmdlLnZhbHVlID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbih2YWwsIG1heCkpLnRvU3RyaW5nKCk7XG59XG5cbm51bU91dHB1dFNpemVSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICB1cGRhdGVPdXRwdXRTaXplUmFuZ2VUb051bSgpO1xuICAgIHJ1bigpO1xufSk7XG5cbm51bU91dHB1dFNpemVOdW0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdXBkYXRlT3V0cHV0U2l6ZU51bVRvUmFuZ2UoKTtcbiAgICB1cGRhdGVPdXRwdXRTaXplUmFuZ2VUb051bSgpO1xuICAgIHJ1bigpO1xufSk7XG5cbmZ1bmN0aW9uIHVwZGF0ZUFscGhhYmV0U2l6ZSgpOiB2b2lkIHtcbiAgICBzcG5BbHBoYWJldFNpemUuaW5uZXJIVE1MID0gdHh0QWxwaGFiZXQudmFsdWUubGVuZ3RoLnRvU3RyaW5nKCk7XG5cbiAgICBjb25zdCBhbHBoYWJldFNpemVEaWdpdENvdW50OiBudW1iZXIgPSB0eHRBbHBoYWJldC52YWx1ZS5sZW5ndGgudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgaWYgKGFscGhhYmV0U2l6ZURpZ2l0Q291bnQgPCAyKSB7XG4gICAgICAgIC8vIEFkZCBhIHNwYWNlIHRvIGtlZXAgYSBuaWNlIHZpc3VhbCBhbGlnbm1lbnQuXG4gICAgICAgIHNwbkFscGhhYmV0U2l6ZS5pbm5lckhUTUwgPSBzcG5BbHBoYWJldFNpemUuaW5uZXJIVE1MLnBhZFN0YXJ0KDIsICcgJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVBbHBoYWJldFZhbGlkaXR5RGlzcGxheShpc0FscGhhYmV0VmFsaWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoaXNBbHBoYWJldFZhbGlkKSB7XG4gICAgICAgIHR4dEFscGhhYmV0LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdiYWNrZ3JvdW5kJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHh0QWxwaGFiZXQuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQnLCBFUlJPUl9DT0xPUik7XG4gICAgfVxufVxuXG50eHRBbHBoYWJldC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBjb25zdCBpc0FscGhhYmV0VmFsaWRSZXN1bHQ6IGJvb2xlYW4gPSBpc0FscGhhYmV0VmFsaWQodHh0QWxwaGFiZXQudmFsdWUpO1xuXG4gICAgdXBkYXRlQWxwaGFiZXRWYWxpZGl0eURpc3BsYXkoaXNBbHBoYWJldFZhbGlkUmVzdWx0KTtcblxuICAgIGlmIChpc0FscGhhYmV0VmFsaWRSZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB1cGRhdGVBbHBoYWJldFNpemUoKTtcbiAgICBydW4oKTtcbn0pO1xuXG5idG5SZXNldEFscGhhYmV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJlc2V0QWxwaGFiZXQoKTtcbiAgICB1cGRhdGVBbHBoYWJldFNpemUoKTtcbiAgICBydW4oKTtcbn0pO1xuXG5mdW5jdGlvbiBjbGVhck91dHB1dHMoKTogdm9pZCB7XG4gICAgdHh0UmVzdWx0UGFzc3dvcmQudmFsdWUgPSAnJztcbiAgICB0eHRQYXJhbWV0ZXJzLnZhbHVlID0gJyc7XG5cbiAgICB1cGRhdGVSZXN1bHRQYXNzd29yZExlbmd0aCgpO1xufVxuXG5mdW5jdGlvbiBjYW5SdW4oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYWxwaGFiZXQ6IHN0cmluZyA9IHR4dEFscGhhYmV0LnZhbHVlO1xuXG4gICAgaWYgKGlzQWxwaGFiZXRWYWxpZChhbHBoYWJldCkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZ2V0UHJpdmF0ZVBhcnQoKS5sZW5ndGggPD0gMCB8fCB0eHRQdWJsaWNQYXJ0LnZhbHVlLmxlbmd0aCA8IDggfHwgYWxwaGFiZXQubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcbiAgICB1cGRhdGVQYXNzd29yZEdlbmVyYXRpb25QYXJhbWV0ZXJzKCk7XG5cbiAgICBpZiAoY2FuUnVuKCkgPT09IGZhbHNlKSB7XG4gICAgICAgIGNsZWFyT3V0cHV0cygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJpdmF0ZVBhcnRTdHJpbmc6IHN0cmluZyA9IGdldFByaXZhdGVQYXJ0KCk7XG4gICAgY29uc3QgcHVibGljUGFydFN0cmluZyA9IHR4dFB1YmxpY1BhcnQudmFsdWU7XG5cbiAgICBjb25zdCBwcml2YXRlUHJpdmF0ZUJ5dGVzOiBBcnJheUJ1ZmZlciA9IHN0cmluZ1V0aWxzLnN0cmluZ1RvQXJyYXkocHJpdmF0ZVBhcnRTdHJpbmcpO1xuICAgIGNvbnN0IHB1YmxpY1BhcnRCeXRlczogQXJyYXlCdWZmZXIgPSBzdHJpbmdVdGlscy5zdHJpbmdUb0FycmF5KHB1YmxpY1BhcnRTdHJpbmcpO1xuXG4gICAgY29uc3Qga2V5Qnl0ZXM6IEFycmF5QnVmZmVyID0gYXdhaXQgY3J5cHRvLmdlbmVyYXRlUGFzc3dvcmQocHJpdmF0ZVByaXZhdGVCeXRlcywgcHVibGljUGFydEJ5dGVzLCAnUGFzc3dvcmQnKTtcblxuICAgIGNvbnN0IGtleVN0cmluZzogc3RyaW5nID0gYXJyYXlVdGlscy50b0N1c3RvbUJhc2Uoa2V5Qnl0ZXMsIHR4dEFscGhhYmV0LnZhbHVlKTtcbiAgICB0eHRSZXN1bHRQYXNzd29yZC52YWx1ZSA9IHN0cmluZ1V0aWxzLnRydW5jYXRlKGtleVN0cmluZywgcGFyc2VJbnQobnVtT3V0cHV0U2l6ZVJhbmdlLnZhbHVlLCAxMCkpO1xuXG4gICAgdXBkYXRlUmVzdWx0UGFzc3dvcmRMZW5ndGgoKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzZXRBbHBoYWJldCgpIHtcbiAgICB0eHRBbHBoYWJldC52YWx1ZSA9IERFRkFVTFRfQUxQSEFCRVQ7XG4gICAgdXBkYXRlQWxwaGFiZXRTaXplKCk7XG5cbiAgICBjb25zdCBpc0FscGhhYmV0VmFsaWRSZXN1bHQ6IGJvb2xlYW4gPSBpc0FscGhhYmV0VmFsaWQodHh0QWxwaGFiZXQudmFsdWUpO1xuXG4gICAgdXBkYXRlQWxwaGFiZXRWYWxpZGl0eURpc3BsYXkoaXNBbHBoYWJldFZhbGlkUmVzdWx0KTtcblxuICAgIGlmIChpc0FscGhhYmV0VmFsaWRSZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgcnVuKCk7XG4gICAgfVxufVxuXG5jb25zdCBwcm90ZWN0UHJpdmF0ZVBhcnRBY3Rpb246IFRpbWVkQWN0aW9uID0gbmV3IFRpbWVkQWN0aW9uKHByb3RlY3RBbmRMb2NrUHJpdmF0ZVBhcnQsIFBSSVZBVEVfUEFSVF9QUk9URUNUSU9OX1RJTUVPVVQpO1xuXG50eHRQcml2YXRlUGFydC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICBidG5Qcm90ZWN0LmRpc2FibGVkID0gdHh0UHJpdmF0ZVBhcnQudmFsdWUubGVuZ3RoID09PSAwO1xuXG4gICAgc3BuUHJpdmF0ZVBhcnRTaXplLmlubmVySFRNTCA9IHR4dFByaXZhdGVQYXJ0LnZhbHVlLmxlbmd0aC50b1N0cmluZygpO1xuICAgIHVwZGF0ZVByaXZhdGVQYXJ0c01hdGNoaW5nKCk7XG4gICAgcnVuKCk7XG4gICAgcHJvdGVjdFByaXZhdGVQYXJ0QWN0aW9uLnJlc2V0KCk7XG59KTtcblxuZnVuY3Rpb24gdXBkYXRlUHJpdmF0ZVBhcnRzTWF0Y2hpbmcoKTogdm9pZCB7XG4gICAgaWYgKHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLnZhbHVlID09PSB0eHRQcml2YXRlUGFydC52YWx1ZSkge1xuICAgICAgICB0eHRQcml2YXRlUGFydENvbmZpcm1hdGlvbi5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZCcsIFNVQ0NFU1NfQ09MT1IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLnN0eWxlLnNldFByb3BlcnR5KCdiYWNrZ3JvdW5kJywgRVJST1JfQ09MT1IpO1xuICAgIH1cbn07XG5cbnR4dFByaXZhdGVQYXJ0Q29uZmlybWF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgIHNwblByaXZhdGVQYXJ0U2l6ZUNvbmZpcm1hdGlvbi5pbm5lckhUTUwgPSB0eHRQcml2YXRlUGFydENvbmZpcm1hdGlvbi52YWx1ZS5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICB1cGRhdGVQcml2YXRlUGFydHNNYXRjaGluZygpO1xufSk7XG5cbnR4dFBhdGguYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdXBkYXRlUGFzc3dvcmRHZW5lcmF0aW9uUGFyYW1ldGVycygpO1xufSk7XG5cbnR4dFB1YmxpY1BhcnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdXBkYXRlUGFzc3dvcmRHZW5lcmF0aW9uUGFyYW1ldGVycygpO1xuICAgIHJ1bigpO1xufSk7XG5cbnR4dEN1c3RvbUtleXMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgdXBkYXRlUGFzc3dvcmRHZW5lcmF0aW9uUGFyYW1ldGVycygpO1xufSk7XG5cbnVwZGF0ZU91dHB1dFNpemVSYW5nZVRvTnVtKCk7XG5yZXNldEFscGhhYmV0KCk7XG51cGRhdGVQcml2YXRlUGFydHNNYXRjaGluZygpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZWRBY3Rpb24ge1xuICAgIHByaXZhdGUgdGltZW91dDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGFjdGlvbjogRnVuY3Rpb24sIHByaXZhdGUgZGVsYXk6IG51bWJlcikge1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNldChvdmVycmlkZURlbGF5OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gb3ZlcnJpZGVEZWxheSAhPT0gdW5kZWZpbmVkID8gb3ZlcnJpZGVEZWxheSA6IHRoaXMuZGVsYXk7XG5cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==